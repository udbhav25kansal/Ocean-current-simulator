{"version":3,"file":"index-8okCnR61.js","sources":["../../node_modules/three/examples/jsm/controls/OrbitControls.js","../../src/scene/OceanScene.js","../../src/scene/ParticleSystem.js","../../src/scene/VectorField.js","../../node_modules/papaparse/papaparse.min.js","../../src/data/BuoyDataLoader.js","../../src/data/FieldInterpolator.js","../../node_modules/lil-gui/dist/lil-gui.esm.js","../../src/controls/ControlPanel.js","../../src/controls/TimelineControl.js","../../src/utils/DataPanel.js","../../src/utils/HelpPanel.js","../../src/main.js"],"sourcesContent":["import {\n\tControls,\n\tMOUSE,\n\tQuaternion,\n\tSpherical,\n\tTOUCH,\n\tVector2,\n\tVector3,\n\tPlane,\n\tRay,\n\tMathUtils\n} from 'three';\n\n/**\n * Fires when the camera has been transformed by the controls.\n *\n * @event OrbitControls#change\n * @type {Object}\n */\nconst _changeEvent = { type: 'change' };\n\n/**\n * Fires when an interaction was initiated.\n *\n * @event OrbitControls#start\n * @type {Object}\n */\nconst _startEvent = { type: 'start' };\n\n/**\n * Fires when an interaction has finished.\n *\n * @event OrbitControls#end\n * @type {Object}\n */\nconst _endEvent = { type: 'end' };\n\nconst _ray = new Ray();\nconst _plane = new Plane();\nconst _TILT_LIMIT = Math.cos( 70 * MathUtils.DEG2RAD );\n\nconst _v = new Vector3();\nconst _twoPI = 2 * Math.PI;\n\nconst _STATE = {\n\tNONE: - 1,\n\tROTATE: 0,\n\tDOLLY: 1,\n\tPAN: 2,\n\tTOUCH_ROTATE: 3,\n\tTOUCH_PAN: 4,\n\tTOUCH_DOLLY_PAN: 5,\n\tTOUCH_DOLLY_ROTATE: 6\n};\nconst _EPS = 0.000001;\n\n\n/**\n * Orbit controls allow the camera to orbit around a target.\n *\n * OrbitControls performs orbiting, dollying (zooming), and panning. Unlike {@link TrackballControls},\n * it maintains the \"up\" direction `object.up` (+Y by default).\n *\n * - Orbit: Left mouse / touch: one-finger move.\n * - Zoom: Middle mouse, or mousewheel / touch: two-finger spread or squish.\n * - Pan: Right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move.\n *\n * ```js\n * const controls = new OrbitControls( camera, renderer.domElement );\n *\n * // controls.update() must be called after any manual changes to the camera's transform\n * camera.position.set( 0, 20, 100 );\n * controls.update();\n *\n * function animate() {\n *\n * \t// required if controls.enableDamping or controls.autoRotate are set to true\n * \tcontrols.update();\n *\n * \trenderer.render( scene, camera );\n *\n * }\n * ```\n *\n * @augments Controls\n * @three_import import { OrbitControls } from 'three/addons/controls/OrbitControls.js';\n */\nclass OrbitControls extends Controls {\n\n\t/**\n\t * Constructs a new controls instance.\n\t *\n\t * @param {Object3D} object - The object that is managed by the controls.\n\t * @param {?HTMLDOMElement} domElement - The HTML element used for event listeners.\n\t */\n\tconstructor( object, domElement = null ) {\n\n\t\tsuper( object, domElement );\n\n\t\tthis.state = _STATE.NONE;\n\n\t\t/**\n\t\t * The focus point of the controls, the `object` orbits around this.\n\t\t * It can be updated manually at any point to change the focus of the controls.\n\t\t *\n\t\t * @type {Vector3}\n\t\t */\n\t\tthis.target = new Vector3();\n\n\t\t/**\n\t\t * The focus point of the `minTargetRadius` and `maxTargetRadius` limits.\n\t\t * It can be updated manually at any point to change the center of interest\n\t\t * for the `target`.\n\t\t *\n\t\t * @type {Vector3}\n\t\t */\n\t\tthis.cursor = new Vector3();\n\n\t\t/**\n\t\t * How far you can dolly in (perspective camera only).\n\t\t *\n\t\t * @type {number}\n\t\t * @default 0\n\t\t */\n\t\tthis.minDistance = 0;\n\n\t\t/**\n\t\t * How far you can dolly out (perspective camera only).\n\t\t *\n\t\t * @type {number}\n\t\t * @default Infinity\n\t\t */\n\t\tthis.maxDistance = Infinity;\n\n\t\t/**\n\t\t * How far you can zoom in (orthographic camera only).\n\t\t *\n\t\t * @type {number}\n\t\t * @default 0\n\t\t */\n\t\tthis.minZoom = 0;\n\n\t\t/**\n\t\t * How far you can zoom out (orthographic camera only).\n\t\t *\n\t\t * @type {number}\n\t\t * @default Infinity\n\t\t */\n\t\tthis.maxZoom = Infinity;\n\n\t\t/**\n\t\t * How close you can get the target to the 3D `cursor`.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 0\n\t\t */\n\t\tthis.minTargetRadius = 0;\n\n\t\t/**\n\t\t * How far you can move the target from the 3D `cursor`.\n\t\t *\n\t\t * @type {number}\n\t\t * @default Infinity\n\t\t */\n\t\tthis.maxTargetRadius = Infinity;\n\n\t\t/**\n\t\t * How far you can orbit vertically, lower limit. Range is `[0, Math.PI]` radians.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 0\n\t\t */\n\t\tthis.minPolarAngle = 0;\n\n\t\t/**\n\t\t * How far you can orbit vertically, upper limit. Range is `[0, Math.PI]` radians.\n\t\t *\n\t\t * @type {number}\n\t\t * @default Math.PI\n\t\t */\n\t\tthis.maxPolarAngle = Math.PI;\n\n\t\t/**\n\t\t * How far you can orbit horizontally, lower limit. If set, the interval `[ min, max ]`\n\t\t * must be a sub-interval of `[ - 2 PI, 2 PI ]`, with `( max - min < 2 PI )`.\n\t\t *\n\t\t * @type {number}\n\t\t * @default -Infinity\n\t\t */\n\t\tthis.minAzimuthAngle = - Infinity;\n\n\t\t/**\n\t\t * How far you can orbit horizontally, upper limit. If set, the interval `[ min, max ]`\n\t\t * must be a sub-interval of `[ - 2 PI, 2 PI ]`, with `( max - min < 2 PI )`.\n\t\t *\n\t\t * @type {number}\n\t\t * @default -Infinity\n\t\t */\n\t\tthis.maxAzimuthAngle = Infinity;\n\n\t\t/**\n\t\t * Set to `true` to enable damping (inertia), which can be used to give a sense of weight\n\t\t * to the controls. Note that if this is enabled, you must call `update()` in your animation\n\t\t * loop.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.enableDamping = false;\n\n\t\t/**\n\t\t * The damping inertia used if `enableDamping` is set to `true`.\n\t\t *\n\t\t * Note that for this to work, you must call `update()` in your animation loop.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 0.05\n\t\t */\n\t\tthis.dampingFactor = 0.05;\n\n\t\t/**\n\t\t * Enable or disable zooming (dollying) of the camera.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default true\n\t\t */\n\t\tthis.enableZoom = true;\n\n\t\t/**\n\t\t * Speed of zooming / dollying.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 1\n\t\t */\n\t\tthis.zoomSpeed = 1.0;\n\n\t\t/**\n\t\t * Enable or disable horizontal and vertical rotation of the camera.\n\t\t *\n\t\t * Note that it is possible to disable a single axis by setting the min and max of the\n\t\t * `minPolarAngle` or `minAzimuthAngle` to the same value, which will cause the vertical\n\t\t * or horizontal rotation to be fixed at that value.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default true\n\t\t */\n\t\tthis.enableRotate = true;\n\n\t\t/**\n\t\t * Speed of rotation.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 1\n\t\t */\n\t\tthis.rotateSpeed = 1.0;\n\n\t\t/**\n\t\t * How fast to rotate the camera when the keyboard is used.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 1\n\t\t */\n\t\tthis.keyRotateSpeed = 1.0;\n\n\t\t/**\n\t\t * Enable or disable camera panning.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default true\n\t\t */\n\t\tthis.enablePan = true;\n\n\t\t/**\n\t\t * Speed of panning.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 1\n\t\t */\n\t\tthis.panSpeed = 1.0;\n\n\t\t/**\n\t\t * Defines how the camera's position is translated when panning. If `true`, the camera pans\n\t\t * in screen space. Otherwise, the camera pans in the plane orthogonal to the camera's up\n\t\t * direction.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default true\n\t\t */\n\t\tthis.screenSpacePanning = true;\n\n\t\t/**\n\t\t * How fast to pan the camera when the keyboard is used in\n\t\t * pixels per keypress.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 7\n\t\t */\n\t\tthis.keyPanSpeed = 7.0;\n\n\t\t/**\n\t\t * Setting this property to `true` allows to zoom to the cursor's position.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.zoomToCursor = false;\n\n\t\t/**\n\t\t * Set to true to automatically rotate around the target\n\t\t *\n\t\t * Note that if this is enabled, you must call `update()` in your animation loop.\n\t\t * If you want the auto-rotate speed to be independent of the frame rate (the refresh\n\t\t * rate of the display), you must pass the time `deltaTime`, in seconds, to `update()`.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.autoRotate = false;\n\n\t\t/**\n\t\t * How fast to rotate around the target if `autoRotate` is `true`. The default  equates to 30 seconds\n\t\t * per orbit at 60fps.\n\t\t *\n\t\t * Note that if `autoRotate` is enabled, you must call `update()` in your animation loop.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 2\n\t\t */\n\t\tthis.autoRotateSpeed = 2.0;\n\n\t\t/**\n\t\t * This object contains references to the keycodes for controlling camera panning.\n\t\t *\n\t\t * ```js\n\t\t * controls.keys = {\n\t\t * \tLEFT: 'ArrowLeft', //left arrow\n\t\t * \tUP: 'ArrowUp', // up arrow\n\t\t * \tRIGHT: 'ArrowRight', // right arrow\n\t\t * \tBOTTOM: 'ArrowDown' // down arrow\n\t\t * }\n\t\t * ```\n\t\t * @type {Object}\n\t\t */\n\t\tthis.keys = { LEFT: 'ArrowLeft', UP: 'ArrowUp', RIGHT: 'ArrowRight', BOTTOM: 'ArrowDown' };\n\n\t\t/**\n\t\t * This object contains references to the mouse actions used by the controls.\n\t\t *\n\t\t * ```js\n\t\t * controls.mouseButtons = {\n\t\t * \tLEFT: THREE.MOUSE.ROTATE,\n\t\t * \tMIDDLE: THREE.MOUSE.DOLLY,\n\t\t * \tRIGHT: THREE.MOUSE.PAN\n\t\t * }\n\t\t * ```\n\t\t * @type {Object}\n\t\t */\n\t\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t\t/**\n\t\t * This object contains references to the touch actions used by the controls.\n\t\t *\n\t\t * ```js\n\t\t * controls.mouseButtons = {\n\t\t * \tONE: THREE.TOUCH.ROTATE,\n\t\t * \tTWO: THREE.TOUCH.DOLLY_PAN\n\t\t * }\n\t\t * ```\n\t\t * @type {Object}\n\t\t */\n\t\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\n\n\t\t/**\n\t\t * Used internally by `saveState()` and `reset()`.\n\t\t *\n\t\t * @type {Vector3}\n\t\t */\n\t\tthis.target0 = this.target.clone();\n\n\t\t/**\n\t\t * Used internally by `saveState()` and `reset()`.\n\t\t *\n\t\t * @type {Vector3}\n\t\t */\n\t\tthis.position0 = this.object.position.clone();\n\n\t\t/**\n\t\t * Used internally by `saveState()` and `reset()`.\n\t\t *\n\t\t * @type {number}\n\t\t */\n\t\tthis.zoom0 = this.object.zoom;\n\n\t\t// the target DOM element for key events\n\t\tthis._domElementKeyEvents = null;\n\n\t\t// internals\n\n\t\tthis._lastPosition = new Vector3();\n\t\tthis._lastQuaternion = new Quaternion();\n\t\tthis._lastTargetPosition = new Vector3();\n\n\t\t// so camera.up is the orbit axis\n\t\tthis._quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\n\t\tthis._quatInverse = this._quat.clone().invert();\n\n\t\t// current position in spherical coordinates\n\t\tthis._spherical = new Spherical();\n\t\tthis._sphericalDelta = new Spherical();\n\n\t\tthis._scale = 1;\n\t\tthis._panOffset = new Vector3();\n\n\t\tthis._rotateStart = new Vector2();\n\t\tthis._rotateEnd = new Vector2();\n\t\tthis._rotateDelta = new Vector2();\n\n\t\tthis._panStart = new Vector2();\n\t\tthis._panEnd = new Vector2();\n\t\tthis._panDelta = new Vector2();\n\n\t\tthis._dollyStart = new Vector2();\n\t\tthis._dollyEnd = new Vector2();\n\t\tthis._dollyDelta = new Vector2();\n\n\t\tthis._dollyDirection = new Vector3();\n\t\tthis._mouse = new Vector2();\n\t\tthis._performCursorZoom = false;\n\n\t\tthis._pointers = [];\n\t\tthis._pointerPositions = {};\n\n\t\tthis._controlActive = false;\n\n\t\t// event listeners\n\n\t\tthis._onPointerMove = onPointerMove.bind( this );\n\t\tthis._onPointerDown = onPointerDown.bind( this );\n\t\tthis._onPointerUp = onPointerUp.bind( this );\n\t\tthis._onContextMenu = onContextMenu.bind( this );\n\t\tthis._onMouseWheel = onMouseWheel.bind( this );\n\t\tthis._onKeyDown = onKeyDown.bind( this );\n\n\t\tthis._onTouchStart = onTouchStart.bind( this );\n\t\tthis._onTouchMove = onTouchMove.bind( this );\n\n\t\tthis._onMouseDown = onMouseDown.bind( this );\n\t\tthis._onMouseMove = onMouseMove.bind( this );\n\n\t\tthis._interceptControlDown = interceptControlDown.bind( this );\n\t\tthis._interceptControlUp = interceptControlUp.bind( this );\n\n\t\t//\n\n\t\tif ( this.domElement !== null ) {\n\n\t\t\tthis.connect( this.domElement );\n\n\t\t}\n\n\t\tthis.update();\n\n\t}\n\n\tconnect( element ) {\n\n\t\tsuper.connect( element );\n\n\t\tthis.domElement.addEventListener( 'pointerdown', this._onPointerDown );\n\t\tthis.domElement.addEventListener( 'pointercancel', this._onPointerUp );\n\n\t\tthis.domElement.addEventListener( 'contextmenu', this._onContextMenu );\n\t\tthis.domElement.addEventListener( 'wheel', this._onMouseWheel, { passive: false } );\n\n\t\tconst document = this.domElement.getRootNode(); // offscreen canvas compatibility\n\t\tdocument.addEventListener( 'keydown', this._interceptControlDown, { passive: true, capture: true } );\n\n\t\tthis.domElement.style.touchAction = 'none'; // disable touch scroll\n\n\t}\n\n\tdisconnect() {\n\n\t\tthis.domElement.removeEventListener( 'pointerdown', this._onPointerDown );\n\t\tthis.domElement.removeEventListener( 'pointermove', this._onPointerMove );\n\t\tthis.domElement.removeEventListener( 'pointerup', this._onPointerUp );\n\t\tthis.domElement.removeEventListener( 'pointercancel', this._onPointerUp );\n\n\t\tthis.domElement.removeEventListener( 'wheel', this._onMouseWheel );\n\t\tthis.domElement.removeEventListener( 'contextmenu', this._onContextMenu );\n\n\t\tthis.stopListenToKeyEvents();\n\n\t\tconst document = this.domElement.getRootNode(); // offscreen canvas compatibility\n\t\tdocument.removeEventListener( 'keydown', this._interceptControlDown, { capture: true } );\n\n\t\tthis.domElement.style.touchAction = 'auto';\n\n\t}\n\n\tdispose() {\n\n\t\tthis.disconnect();\n\n\t}\n\n\t/**\n\t * Get the current vertical rotation, in radians.\n\t *\n\t * @return {number} The current vertical rotation, in radians.\n\t */\n\tgetPolarAngle() {\n\n\t\treturn this._spherical.phi;\n\n\t}\n\n\t/**\n\t * Get the current horizontal rotation, in radians.\n\t *\n\t * @return {number} The current horizontal rotation, in radians.\n\t */\n\tgetAzimuthalAngle() {\n\n\t\treturn this._spherical.theta;\n\n\t}\n\n\t/**\n\t * Returns the distance from the camera to the target.\n\t *\n\t * @return {number} The distance from the camera to the target.\n\t */\n\tgetDistance() {\n\n\t\treturn this.object.position.distanceTo( this.target );\n\n\t}\n\n\t/**\n\t * Adds key event listeners to the given DOM element.\n\t * `window` is a recommended argument for using this method.\n\t *\n\t * @param {HTMLDOMElement} domElement - The DOM element\n\t */\n\tlistenToKeyEvents( domElement ) {\n\n\t\tdomElement.addEventListener( 'keydown', this._onKeyDown );\n\t\tthis._domElementKeyEvents = domElement;\n\n\t}\n\n\t/**\n\t * Removes the key event listener previously defined with `listenToKeyEvents()`.\n\t */\n\tstopListenToKeyEvents() {\n\n\t\tif ( this._domElementKeyEvents !== null ) {\n\n\t\t\tthis._domElementKeyEvents.removeEventListener( 'keydown', this._onKeyDown );\n\t\t\tthis._domElementKeyEvents = null;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Save the current state of the controls. This can later be recovered with `reset()`.\n\t */\n\tsaveState() {\n\n\t\tthis.target0.copy( this.target );\n\t\tthis.position0.copy( this.object.position );\n\t\tthis.zoom0 = this.object.zoom;\n\n\t}\n\n\t/**\n\t * Reset the controls to their state from either the last time the `saveState()`\n\t * was called, or the initial state.\n\t */\n\treset() {\n\n\t\tthis.target.copy( this.target0 );\n\t\tthis.object.position.copy( this.position0 );\n\t\tthis.object.zoom = this.zoom0;\n\n\t\tthis.object.updateProjectionMatrix();\n\t\tthis.dispatchEvent( _changeEvent );\n\n\t\tthis.update();\n\n\t\tthis.state = _STATE.NONE;\n\n\t}\n\n\tupdate( deltaTime = null ) {\n\n\t\tconst position = this.object.position;\n\n\t\t_v.copy( position ).sub( this.target );\n\n\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t_v.applyQuaternion( this._quat );\n\n\t\t// angle from z-axis around y-axis\n\t\tthis._spherical.setFromVector3( _v );\n\n\t\tif ( this.autoRotate && this.state === _STATE.NONE ) {\n\n\t\t\tthis._rotateLeft( this._getAutoRotationAngle( deltaTime ) );\n\n\t\t}\n\n\t\tif ( this.enableDamping ) {\n\n\t\t\tthis._spherical.theta += this._sphericalDelta.theta * this.dampingFactor;\n\t\t\tthis._spherical.phi += this._sphericalDelta.phi * this.dampingFactor;\n\n\t\t} else {\n\n\t\t\tthis._spherical.theta += this._sphericalDelta.theta;\n\t\t\tthis._spherical.phi += this._sphericalDelta.phi;\n\n\t\t}\n\n\t\t// restrict theta to be between desired limits\n\n\t\tlet min = this.minAzimuthAngle;\n\t\tlet max = this.maxAzimuthAngle;\n\n\t\tif ( isFinite( min ) && isFinite( max ) ) {\n\n\t\t\tif ( min < - Math.PI ) min += _twoPI; else if ( min > Math.PI ) min -= _twoPI;\n\n\t\t\tif ( max < - Math.PI ) max += _twoPI; else if ( max > Math.PI ) max -= _twoPI;\n\n\t\t\tif ( min <= max ) {\n\n\t\t\t\tthis._spherical.theta = Math.max( min, Math.min( max, this._spherical.theta ) );\n\n\t\t\t} else {\n\n\t\t\t\tthis._spherical.theta = ( this._spherical.theta > ( min + max ) / 2 ) ?\n\t\t\t\t\tMath.max( min, this._spherical.theta ) :\n\t\t\t\t\tMath.min( max, this._spherical.theta );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// restrict phi to be between desired limits\n\t\tthis._spherical.phi = Math.max( this.minPolarAngle, Math.min( this.maxPolarAngle, this._spherical.phi ) );\n\n\t\tthis._spherical.makeSafe();\n\n\n\t\t// move target to panned location\n\n\t\tif ( this.enableDamping === true ) {\n\n\t\t\tthis.target.addScaledVector( this._panOffset, this.dampingFactor );\n\n\t\t} else {\n\n\t\t\tthis.target.add( this._panOffset );\n\n\t\t}\n\n\t\t// Limit the target distance from the cursor to create a sphere around the center of interest\n\t\tthis.target.sub( this.cursor );\n\t\tthis.target.clampLength( this.minTargetRadius, this.maxTargetRadius );\n\t\tthis.target.add( this.cursor );\n\n\t\tlet zoomChanged = false;\n\t\t// adjust the camera position based on zoom only if we're not zooming to the cursor or if it's an ortho camera\n\t\t// we adjust zoom later in these cases\n\t\tif ( this.zoomToCursor && this._performCursorZoom || this.object.isOrthographicCamera ) {\n\n\t\t\tthis._spherical.radius = this._clampDistance( this._spherical.radius );\n\n\t\t} else {\n\n\t\t\tconst prevRadius = this._spherical.radius;\n\t\t\tthis._spherical.radius = this._clampDistance( this._spherical.radius * this._scale );\n\t\t\tzoomChanged = prevRadius != this._spherical.radius;\n\n\t\t}\n\n\t\t_v.setFromSpherical( this._spherical );\n\n\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t_v.applyQuaternion( this._quatInverse );\n\n\t\tposition.copy( this.target ).add( _v );\n\n\t\tthis.object.lookAt( this.target );\n\n\t\tif ( this.enableDamping === true ) {\n\n\t\t\tthis._sphericalDelta.theta *= ( 1 - this.dampingFactor );\n\t\t\tthis._sphericalDelta.phi *= ( 1 - this.dampingFactor );\n\n\t\t\tthis._panOffset.multiplyScalar( 1 - this.dampingFactor );\n\n\t\t} else {\n\n\t\t\tthis._sphericalDelta.set( 0, 0, 0 );\n\n\t\t\tthis._panOffset.set( 0, 0, 0 );\n\n\t\t}\n\n\t\t// adjust camera position\n\t\tif ( this.zoomToCursor && this._performCursorZoom ) {\n\n\t\t\tlet newRadius = null;\n\t\t\tif ( this.object.isPerspectiveCamera ) {\n\n\t\t\t\t// move the camera down the pointer ray\n\t\t\t\t// this method avoids floating point error\n\t\t\t\tconst prevRadius = _v.length();\n\t\t\t\tnewRadius = this._clampDistance( prevRadius * this._scale );\n\n\t\t\t\tconst radiusDelta = prevRadius - newRadius;\n\t\t\t\tthis.object.position.addScaledVector( this._dollyDirection, radiusDelta );\n\t\t\t\tthis.object.updateMatrixWorld();\n\n\t\t\t\tzoomChanged = !! radiusDelta;\n\n\t\t\t} else if ( this.object.isOrthographicCamera ) {\n\n\t\t\t\t// adjust the ortho camera position based on zoom changes\n\t\t\t\tconst mouseBefore = new Vector3( this._mouse.x, this._mouse.y, 0 );\n\t\t\t\tmouseBefore.unproject( this.object );\n\n\t\t\t\tconst prevZoom = this.object.zoom;\n\t\t\t\tthis.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom / this._scale ) );\n\t\t\t\tthis.object.updateProjectionMatrix();\n\n\t\t\t\tzoomChanged = prevZoom !== this.object.zoom;\n\n\t\t\t\tconst mouseAfter = new Vector3( this._mouse.x, this._mouse.y, 0 );\n\t\t\t\tmouseAfter.unproject( this.object );\n\n\t\t\t\tthis.object.position.sub( mouseAfter ).add( mouseBefore );\n\t\t\t\tthis.object.updateMatrixWorld();\n\n\t\t\t\tnewRadius = _v.length();\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled.' );\n\t\t\t\tthis.zoomToCursor = false;\n\n\t\t\t}\n\n\t\t\t// handle the placement of the target\n\t\t\tif ( newRadius !== null ) {\n\n\t\t\t\tif ( this.screenSpacePanning ) {\n\n\t\t\t\t\t// position the orbit target in front of the new camera position\n\t\t\t\t\tthis.target.set( 0, 0, - 1 )\n\t\t\t\t\t\t.transformDirection( this.object.matrix )\n\t\t\t\t\t\t.multiplyScalar( newRadius )\n\t\t\t\t\t\t.add( this.object.position );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// get the ray and translation plane to compute target\n\t\t\t\t\t_ray.origin.copy( this.object.position );\n\t\t\t\t\t_ray.direction.set( 0, 0, - 1 ).transformDirection( this.object.matrix );\n\n\t\t\t\t\t// if the camera is 20 degrees above the horizon then don't adjust the focus target to avoid\n\t\t\t\t\t// extremely large values\n\t\t\t\t\tif ( Math.abs( this.object.up.dot( _ray.direction ) ) < _TILT_LIMIT ) {\n\n\t\t\t\t\t\tthis.object.lookAt( this.target );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t_plane.setFromNormalAndCoplanarPoint( this.object.up, this.target );\n\t\t\t\t\t\t_ray.intersectPlane( _plane, this.target );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( this.object.isOrthographicCamera ) {\n\n\t\t\tconst prevZoom = this.object.zoom;\n\t\t\tthis.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom / this._scale ) );\n\n\t\t\tif ( prevZoom !== this.object.zoom ) {\n\n\t\t\t\tthis.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._scale = 1;\n\t\tthis._performCursorZoom = false;\n\n\t\t// update condition is:\n\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\tif ( zoomChanged ||\n\t\t\tthis._lastPosition.distanceToSquared( this.object.position ) > _EPS ||\n\t\t\t8 * ( 1 - this._lastQuaternion.dot( this.object.quaternion ) ) > _EPS ||\n\t\t\tthis._lastTargetPosition.distanceToSquared( this.target ) > _EPS ) {\n\n\t\t\tthis.dispatchEvent( _changeEvent );\n\n\t\t\tthis._lastPosition.copy( this.object.position );\n\t\t\tthis._lastQuaternion.copy( this.object.quaternion );\n\t\t\tthis._lastTargetPosition.copy( this.target );\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\t_getAutoRotationAngle( deltaTime ) {\n\n\t\tif ( deltaTime !== null ) {\n\n\t\t\treturn ( _twoPI / 60 * this.autoRotateSpeed ) * deltaTime;\n\n\t\t} else {\n\n\t\t\treturn _twoPI / 60 / 60 * this.autoRotateSpeed;\n\n\t\t}\n\n\t}\n\n\t_getZoomScale( delta ) {\n\n\t\tconst normalizedDelta = Math.abs( delta * 0.01 );\n\t\treturn Math.pow( 0.95, this.zoomSpeed * normalizedDelta );\n\n\t}\n\n\t_rotateLeft( angle ) {\n\n\t\tthis._sphericalDelta.theta -= angle;\n\n\t}\n\n\t_rotateUp( angle ) {\n\n\t\tthis._sphericalDelta.phi -= angle;\n\n\t}\n\n\t_panLeft( distance, objectMatrix ) {\n\n\t\t_v.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t_v.multiplyScalar( - distance );\n\n\t\tthis._panOffset.add( _v );\n\n\t}\n\n\t_panUp( distance, objectMatrix ) {\n\n\t\tif ( this.screenSpacePanning === true ) {\n\n\t\t\t_v.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t} else {\n\n\t\t\t_v.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t_v.crossVectors( this.object.up, _v );\n\n\t\t}\n\n\t\t_v.multiplyScalar( distance );\n\n\t\tthis._panOffset.add( _v );\n\n\t}\n\n\t// deltaX and deltaY are in pixels; right and down are positive\n\t_pan( deltaX, deltaY ) {\n\n\t\tconst element = this.domElement;\n\n\t\tif ( this.object.isPerspectiveCamera ) {\n\n\t\t\t// perspective\n\t\t\tconst position = this.object.position;\n\t\t\t_v.copy( position ).sub( this.target );\n\t\t\tlet targetDistance = _v.length();\n\n\t\t\t// half of the fov is center to top of screen\n\t\t\ttargetDistance *= Math.tan( ( this.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\tthis._panLeft( 2 * deltaX * targetDistance / element.clientHeight, this.object.matrix );\n\t\t\tthis._panUp( 2 * deltaY * targetDistance / element.clientHeight, this.object.matrix );\n\n\t\t} else if ( this.object.isOrthographicCamera ) {\n\n\t\t\t// orthographic\n\t\t\tthis._panLeft( deltaX * ( this.object.right - this.object.left ) / this.object.zoom / element.clientWidth, this.object.matrix );\n\t\t\tthis._panUp( deltaY * ( this.object.top - this.object.bottom ) / this.object.zoom / element.clientHeight, this.object.matrix );\n\n\t\t} else {\n\n\t\t\t// camera neither orthographic nor perspective\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\tthis.enablePan = false;\n\n\t\t}\n\n\t}\n\n\t_dollyOut( dollyScale ) {\n\n\t\tif ( this.object.isPerspectiveCamera || this.object.isOrthographicCamera ) {\n\n\t\t\tthis._scale /= dollyScale;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tthis.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\t_dollyIn( dollyScale ) {\n\n\t\tif ( this.object.isPerspectiveCamera || this.object.isOrthographicCamera ) {\n\n\t\t\tthis._scale *= dollyScale;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tthis.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\t_updateZoomParameters( x, y ) {\n\n\t\tif ( ! this.zoomToCursor ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._performCursorZoom = true;\n\n\t\tconst rect = this.domElement.getBoundingClientRect();\n\t\tconst dx = x - rect.left;\n\t\tconst dy = y - rect.top;\n\t\tconst w = rect.width;\n\t\tconst h = rect.height;\n\n\t\tthis._mouse.x = ( dx / w ) * 2 - 1;\n\t\tthis._mouse.y = - ( dy / h ) * 2 + 1;\n\n\t\tthis._dollyDirection.set( this._mouse.x, this._mouse.y, 1 ).unproject( this.object ).sub( this.object.position ).normalize();\n\n\t}\n\n\t_clampDistance( dist ) {\n\n\t\treturn Math.max( this.minDistance, Math.min( this.maxDistance, dist ) );\n\n\t}\n\n\t//\n\t// event callbacks - update the object state\n\t//\n\n\t_handleMouseDownRotate( event ) {\n\n\t\tthis._rotateStart.set( event.clientX, event.clientY );\n\n\t}\n\n\t_handleMouseDownDolly( event ) {\n\n\t\tthis._updateZoomParameters( event.clientX, event.clientX );\n\t\tthis._dollyStart.set( event.clientX, event.clientY );\n\n\t}\n\n\t_handleMouseDownPan( event ) {\n\n\t\tthis._panStart.set( event.clientX, event.clientY );\n\n\t}\n\n\t_handleMouseMoveRotate( event ) {\n\n\t\tthis._rotateEnd.set( event.clientX, event.clientY );\n\n\t\tthis._rotateDelta.subVectors( this._rotateEnd, this._rotateStart ).multiplyScalar( this.rotateSpeed );\n\n\t\tconst element = this.domElement;\n\n\t\tthis._rotateLeft( _twoPI * this._rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\tthis._rotateUp( _twoPI * this._rotateDelta.y / element.clientHeight );\n\n\t\tthis._rotateStart.copy( this._rotateEnd );\n\n\t\tthis.update();\n\n\t}\n\n\t_handleMouseMoveDolly( event ) {\n\n\t\tthis._dollyEnd.set( event.clientX, event.clientY );\n\n\t\tthis._dollyDelta.subVectors( this._dollyEnd, this._dollyStart );\n\n\t\tif ( this._dollyDelta.y > 0 ) {\n\n\t\t\tthis._dollyOut( this._getZoomScale( this._dollyDelta.y ) );\n\n\t\t} else if ( this._dollyDelta.y < 0 ) {\n\n\t\t\tthis._dollyIn( this._getZoomScale( this._dollyDelta.y ) );\n\n\t\t}\n\n\t\tthis._dollyStart.copy( this._dollyEnd );\n\n\t\tthis.update();\n\n\t}\n\n\t_handleMouseMovePan( event ) {\n\n\t\tthis._panEnd.set( event.clientX, event.clientY );\n\n\t\tthis._panDelta.subVectors( this._panEnd, this._panStart ).multiplyScalar( this.panSpeed );\n\n\t\tthis._pan( this._panDelta.x, this._panDelta.y );\n\n\t\tthis._panStart.copy( this._panEnd );\n\n\t\tthis.update();\n\n\t}\n\n\t_handleMouseWheel( event ) {\n\n\t\tthis._updateZoomParameters( event.clientX, event.clientY );\n\n\t\tif ( event.deltaY < 0 ) {\n\n\t\t\tthis._dollyIn( this._getZoomScale( event.deltaY ) );\n\n\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\tthis._dollyOut( this._getZoomScale( event.deltaY ) );\n\n\t\t}\n\n\t\tthis.update();\n\n\t}\n\n\t_handleKeyDown( event ) {\n\n\t\tlet needsUpdate = false;\n\n\t\tswitch ( event.code ) {\n\n\t\t\tcase this.keys.UP:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( this.enableRotate ) {\n\n\t\t\t\t\t\tthis._rotateUp( _twoPI * this.keyRotateSpeed / this.domElement.clientHeight );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( this.enablePan ) {\n\n\t\t\t\t\t\tthis._pan( 0, this.keyPanSpeed );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase this.keys.BOTTOM:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( this.enableRotate ) {\n\n\t\t\t\t\t\tthis._rotateUp( - _twoPI * this.keyRotateSpeed / this.domElement.clientHeight );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( this.enablePan ) {\n\n\t\t\t\t\t\tthis._pan( 0, - this.keyPanSpeed );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase this.keys.LEFT:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( this.enableRotate ) {\n\n\t\t\t\t\t\tthis._rotateLeft( _twoPI * this.keyRotateSpeed / this.domElement.clientHeight );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( this.enablePan ) {\n\n\t\t\t\t\t\tthis._pan( this.keyPanSpeed, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase this.keys.RIGHT:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( this.enableRotate ) {\n\n\t\t\t\t\t\tthis._rotateLeft( - _twoPI * this.keyRotateSpeed / this.domElement.clientHeight );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( this.enablePan ) {\n\n\t\t\t\t\t\tthis._pan( - this.keyPanSpeed, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( needsUpdate ) {\n\n\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\tevent.preventDefault();\n\n\t\t\tthis.update();\n\n\t\t}\n\n\n\t}\n\n\t_handleTouchStartRotate( event ) {\n\n\t\tif ( this._pointers.length === 1 ) {\n\n\t\t\tthis._rotateStart.set( event.pageX, event.pageY );\n\n\t\t} else {\n\n\t\t\tconst position = this._getSecondPointerPosition( event );\n\n\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\tthis._rotateStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\t_handleTouchStartPan( event ) {\n\n\t\tif ( this._pointers.length === 1 ) {\n\n\t\t\tthis._panStart.set( event.pageX, event.pageY );\n\n\t\t} else {\n\n\t\t\tconst position = this._getSecondPointerPosition( event );\n\n\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\tthis._panStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\t_handleTouchStartDolly( event ) {\n\n\t\tconst position = this._getSecondPointerPosition( event );\n\n\t\tconst dx = event.pageX - position.x;\n\t\tconst dy = event.pageY - position.y;\n\n\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tthis._dollyStart.set( 0, distance );\n\n\t}\n\n\t_handleTouchStartDollyPan( event ) {\n\n\t\tif ( this.enableZoom ) this._handleTouchStartDolly( event );\n\n\t\tif ( this.enablePan ) this._handleTouchStartPan( event );\n\n\t}\n\n\t_handleTouchStartDollyRotate( event ) {\n\n\t\tif ( this.enableZoom ) this._handleTouchStartDolly( event );\n\n\t\tif ( this.enableRotate ) this._handleTouchStartRotate( event );\n\n\t}\n\n\t_handleTouchMoveRotate( event ) {\n\n\t\tif ( this._pointers.length == 1 ) {\n\n\t\t\tthis._rotateEnd.set( event.pageX, event.pageY );\n\n\t\t} else {\n\n\t\t\tconst position = this._getSecondPointerPosition( event );\n\n\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\tthis._rotateEnd.set( x, y );\n\n\t\t}\n\n\t\tthis._rotateDelta.subVectors( this._rotateEnd, this._rotateStart ).multiplyScalar( this.rotateSpeed );\n\n\t\tconst element = this.domElement;\n\n\t\tthis._rotateLeft( _twoPI * this._rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\tthis._rotateUp( _twoPI * this._rotateDelta.y / element.clientHeight );\n\n\t\tthis._rotateStart.copy( this._rotateEnd );\n\n\t}\n\n\t_handleTouchMovePan( event ) {\n\n\t\tif ( this._pointers.length === 1 ) {\n\n\t\t\tthis._panEnd.set( event.pageX, event.pageY );\n\n\t\t} else {\n\n\t\t\tconst position = this._getSecondPointerPosition( event );\n\n\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\tthis._panEnd.set( x, y );\n\n\t\t}\n\n\t\tthis._panDelta.subVectors( this._panEnd, this._panStart ).multiplyScalar( this.panSpeed );\n\n\t\tthis._pan( this._panDelta.x, this._panDelta.y );\n\n\t\tthis._panStart.copy( this._panEnd );\n\n\t}\n\n\t_handleTouchMoveDolly( event ) {\n\n\t\tconst position = this._getSecondPointerPosition( event );\n\n\t\tconst dx = event.pageX - position.x;\n\t\tconst dy = event.pageY - position.y;\n\n\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tthis._dollyEnd.set( 0, distance );\n\n\t\tthis._dollyDelta.set( 0, Math.pow( this._dollyEnd.y / this._dollyStart.y, this.zoomSpeed ) );\n\n\t\tthis._dollyOut( this._dollyDelta.y );\n\n\t\tthis._dollyStart.copy( this._dollyEnd );\n\n\t\tconst centerX = ( event.pageX + position.x ) * 0.5;\n\t\tconst centerY = ( event.pageY + position.y ) * 0.5;\n\n\t\tthis._updateZoomParameters( centerX, centerY );\n\n\t}\n\n\t_handleTouchMoveDollyPan( event ) {\n\n\t\tif ( this.enableZoom ) this._handleTouchMoveDolly( event );\n\n\t\tif ( this.enablePan ) this._handleTouchMovePan( event );\n\n\t}\n\n\t_handleTouchMoveDollyRotate( event ) {\n\n\t\tif ( this.enableZoom ) this._handleTouchMoveDolly( event );\n\n\t\tif ( this.enableRotate ) this._handleTouchMoveRotate( event );\n\n\t}\n\n\t// pointers\n\n\t_addPointer( event ) {\n\n\t\tthis._pointers.push( event.pointerId );\n\n\t}\n\n\t_removePointer( event ) {\n\n\t\tdelete this._pointerPositions[ event.pointerId ];\n\n\t\tfor ( let i = 0; i < this._pointers.length; i ++ ) {\n\n\t\t\tif ( this._pointers[ i ] == event.pointerId ) {\n\n\t\t\t\tthis._pointers.splice( i, 1 );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_isTrackingPointer( event ) {\n\n\t\tfor ( let i = 0; i < this._pointers.length; i ++ ) {\n\n\t\t\tif ( this._pointers[ i ] == event.pointerId ) return true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\t_trackPointer( event ) {\n\n\t\tlet position = this._pointerPositions[ event.pointerId ];\n\n\t\tif ( position === undefined ) {\n\n\t\t\tposition = new Vector2();\n\t\t\tthis._pointerPositions[ event.pointerId ] = position;\n\n\t\t}\n\n\t\tposition.set( event.pageX, event.pageY );\n\n\t}\n\n\t_getSecondPointerPosition( event ) {\n\n\t\tconst pointerId = ( event.pointerId === this._pointers[ 0 ] ) ? this._pointers[ 1 ] : this._pointers[ 0 ];\n\n\t\treturn this._pointerPositions[ pointerId ];\n\n\t}\n\n\t//\n\n\t_customWheelEvent( event ) {\n\n\t\tconst mode = event.deltaMode;\n\n\t\t// minimal wheel event altered to meet delta-zoom demand\n\t\tconst newEvent = {\n\t\t\tclientX: event.clientX,\n\t\t\tclientY: event.clientY,\n\t\t\tdeltaY: event.deltaY,\n\t\t};\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 1: // LINE_MODE\n\t\t\t\tnewEvent.deltaY *= 16;\n\t\t\t\tbreak;\n\n\t\t\tcase 2: // PAGE_MODE\n\t\t\t\tnewEvent.deltaY *= 100;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\t// detect if event was triggered by pinching\n\t\tif ( event.ctrlKey && ! this._controlActive ) {\n\n\t\t\tnewEvent.deltaY *= 10;\n\n\t\t}\n\n\t\treturn newEvent;\n\n\t}\n\n}\n\nfunction onPointerDown( event ) {\n\n\tif ( this.enabled === false ) return;\n\n\tif ( this._pointers.length === 0 ) {\n\n\t\tthis.domElement.setPointerCapture( event.pointerId );\n\n\t\tthis.domElement.addEventListener( 'pointermove', this._onPointerMove );\n\t\tthis.domElement.addEventListener( 'pointerup', this._onPointerUp );\n\n\t}\n\n\t//\n\n\tif ( this._isTrackingPointer( event ) ) return;\n\n\t//\n\n\tthis._addPointer( event );\n\n\tif ( event.pointerType === 'touch' ) {\n\n\t\tthis._onTouchStart( event );\n\n\t} else {\n\n\t\tthis._onMouseDown( event );\n\n\t}\n\n}\n\nfunction onPointerMove( event ) {\n\n\tif ( this.enabled === false ) return;\n\n\tif ( event.pointerType === 'touch' ) {\n\n\t\tthis._onTouchMove( event );\n\n\t} else {\n\n\t\tthis._onMouseMove( event );\n\n\t}\n\n}\n\nfunction onPointerUp( event ) {\n\n\tthis._removePointer( event );\n\n\tswitch ( this._pointers.length ) {\n\n\t\tcase 0:\n\n\t\t\tthis.domElement.releasePointerCapture( event.pointerId );\n\n\t\t\tthis.domElement.removeEventListener( 'pointermove', this._onPointerMove );\n\t\t\tthis.domElement.removeEventListener( 'pointerup', this._onPointerUp );\n\n\t\t\tthis.dispatchEvent( _endEvent );\n\n\t\t\tthis.state = _STATE.NONE;\n\n\t\t\tbreak;\n\n\t\tcase 1:\n\n\t\t\tconst pointerId = this._pointers[ 0 ];\n\t\t\tconst position = this._pointerPositions[ pointerId ];\n\n\t\t\t// minimal placeholder event - allows state correction on pointer-up\n\t\t\tthis._onTouchStart( { pointerId: pointerId, pageX: position.x, pageY: position.y } );\n\n\t\t\tbreak;\n\n\t}\n\n}\n\nfunction onMouseDown( event ) {\n\n\tlet mouseAction;\n\n\tswitch ( event.button ) {\n\n\t\tcase 0:\n\n\t\t\tmouseAction = this.mouseButtons.LEFT;\n\t\t\tbreak;\n\n\t\tcase 1:\n\n\t\t\tmouseAction = this.mouseButtons.MIDDLE;\n\t\t\tbreak;\n\n\t\tcase 2:\n\n\t\t\tmouseAction = this.mouseButtons.RIGHT;\n\t\t\tbreak;\n\n\t\tdefault:\n\n\t\t\tmouseAction = - 1;\n\n\t}\n\n\tswitch ( mouseAction ) {\n\n\t\tcase MOUSE.DOLLY:\n\n\t\t\tif ( this.enableZoom === false ) return;\n\n\t\t\tthis._handleMouseDownDolly( event );\n\n\t\t\tthis.state = _STATE.DOLLY;\n\n\t\t\tbreak;\n\n\t\tcase MOUSE.ROTATE:\n\n\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\tif ( this.enablePan === false ) return;\n\n\t\t\t\tthis._handleMouseDownPan( event );\n\n\t\t\t\tthis.state = _STATE.PAN;\n\n\t\t\t} else {\n\n\t\t\t\tif ( this.enableRotate === false ) return;\n\n\t\t\t\tthis._handleMouseDownRotate( event );\n\n\t\t\t\tthis.state = _STATE.ROTATE;\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tcase MOUSE.PAN:\n\n\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\tif ( this.enableRotate === false ) return;\n\n\t\t\t\tthis._handleMouseDownRotate( event );\n\n\t\t\t\tthis.state = _STATE.ROTATE;\n\n\t\t\t} else {\n\n\t\t\t\tif ( this.enablePan === false ) return;\n\n\t\t\t\tthis._handleMouseDownPan( event );\n\n\t\t\t\tthis.state = _STATE.PAN;\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tdefault:\n\n\t\t\tthis.state = _STATE.NONE;\n\n\t}\n\n\tif ( this.state !== _STATE.NONE ) {\n\n\t\tthis.dispatchEvent( _startEvent );\n\n\t}\n\n}\n\nfunction onMouseMove( event ) {\n\n\tswitch ( this.state ) {\n\n\t\tcase _STATE.ROTATE:\n\n\t\t\tif ( this.enableRotate === false ) return;\n\n\t\t\tthis._handleMouseMoveRotate( event );\n\n\t\t\tbreak;\n\n\t\tcase _STATE.DOLLY:\n\n\t\t\tif ( this.enableZoom === false ) return;\n\n\t\t\tthis._handleMouseMoveDolly( event );\n\n\t\t\tbreak;\n\n\t\tcase _STATE.PAN:\n\n\t\t\tif ( this.enablePan === false ) return;\n\n\t\t\tthis._handleMouseMovePan( event );\n\n\t\t\tbreak;\n\n\t}\n\n}\n\nfunction onMouseWheel( event ) {\n\n\tif ( this.enabled === false || this.enableZoom === false || this.state !== _STATE.NONE ) return;\n\n\tevent.preventDefault();\n\n\tthis.dispatchEvent( _startEvent );\n\n\tthis._handleMouseWheel( this._customWheelEvent( event ) );\n\n\tthis.dispatchEvent( _endEvent );\n\n}\n\nfunction onKeyDown( event ) {\n\n\tif ( this.enabled === false ) return;\n\n\tthis._handleKeyDown( event );\n\n}\n\nfunction onTouchStart( event ) {\n\n\tthis._trackPointer( event );\n\n\tswitch ( this._pointers.length ) {\n\n\t\tcase 1:\n\n\t\t\tswitch ( this.touches.ONE ) {\n\n\t\t\t\tcase TOUCH.ROTATE:\n\n\t\t\t\t\tif ( this.enableRotate === false ) return;\n\n\t\t\t\t\tthis._handleTouchStartRotate( event );\n\n\t\t\t\t\tthis.state = _STATE.TOUCH_ROTATE;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase TOUCH.PAN:\n\n\t\t\t\t\tif ( this.enablePan === false ) return;\n\n\t\t\t\t\tthis._handleTouchStartPan( event );\n\n\t\t\t\t\tthis.state = _STATE.TOUCH_PAN;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tthis.state = _STATE.NONE;\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tcase 2:\n\n\t\t\tswitch ( this.touches.TWO ) {\n\n\t\t\t\tcase TOUCH.DOLLY_PAN:\n\n\t\t\t\t\tif ( this.enableZoom === false && this.enablePan === false ) return;\n\n\t\t\t\t\tthis._handleTouchStartDollyPan( event );\n\n\t\t\t\t\tthis.state = _STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase TOUCH.DOLLY_ROTATE:\n\n\t\t\t\t\tif ( this.enableZoom === false && this.enableRotate === false ) return;\n\n\t\t\t\t\tthis._handleTouchStartDollyRotate( event );\n\n\t\t\t\t\tthis.state = _STATE.TOUCH_DOLLY_ROTATE;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tthis.state = _STATE.NONE;\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tdefault:\n\n\t\t\tthis.state = _STATE.NONE;\n\n\t}\n\n\tif ( this.state !== _STATE.NONE ) {\n\n\t\tthis.dispatchEvent( _startEvent );\n\n\t}\n\n}\n\nfunction onTouchMove( event ) {\n\n\tthis._trackPointer( event );\n\n\tswitch ( this.state ) {\n\n\t\tcase _STATE.TOUCH_ROTATE:\n\n\t\t\tif ( this.enableRotate === false ) return;\n\n\t\t\tthis._handleTouchMoveRotate( event );\n\n\t\t\tthis.update();\n\n\t\t\tbreak;\n\n\t\tcase _STATE.TOUCH_PAN:\n\n\t\t\tif ( this.enablePan === false ) return;\n\n\t\t\tthis._handleTouchMovePan( event );\n\n\t\t\tthis.update();\n\n\t\t\tbreak;\n\n\t\tcase _STATE.TOUCH_DOLLY_PAN:\n\n\t\t\tif ( this.enableZoom === false && this.enablePan === false ) return;\n\n\t\t\tthis._handleTouchMoveDollyPan( event );\n\n\t\t\tthis.update();\n\n\t\t\tbreak;\n\n\t\tcase _STATE.TOUCH_DOLLY_ROTATE:\n\n\t\t\tif ( this.enableZoom === false && this.enableRotate === false ) return;\n\n\t\t\tthis._handleTouchMoveDollyRotate( event );\n\n\t\t\tthis.update();\n\n\t\t\tbreak;\n\n\t\tdefault:\n\n\t\t\tthis.state = _STATE.NONE;\n\n\t}\n\n}\n\nfunction onContextMenu( event ) {\n\n\tif ( this.enabled === false ) return;\n\n\tevent.preventDefault();\n\n}\n\nfunction interceptControlDown( event ) {\n\n\tif ( event.key === 'Control' ) {\n\n\t\tthis._controlActive = true;\n\n\t\tconst document = this.domElement.getRootNode(); // offscreen canvas compatibility\n\n\t\tdocument.addEventListener( 'keyup', this._interceptControlUp, { passive: true, capture: true } );\n\n\t}\n\n}\n\nfunction interceptControlUp( event ) {\n\n\tif ( event.key === 'Control' ) {\n\n\t\tthis._controlActive = false;\n\n\t\tconst document = this.domElement.getRootNode(); // offscreen canvas compatibility\n\n\t\tdocument.removeEventListener( 'keyup', this._interceptControlUp, { passive: true, capture: true } );\n\n\t}\n\n}\n\nexport { OrbitControls };\n","import * as THREE from 'three';\n\nexport class OceanScene {\n    constructor() {\n        this.group = new THREE.Group();\n        this.createOcean();\n        this.createLandmasses();\n    }\n\n    createOcean() {\n        // Create ocean plane - Strait of Georgia dimensions\n        // Approximately 50km x 100km simplified\n        const oceanGeometry = new THREE.PlaneGeometry(100, 120, 100, 120);\n\n        // Ocean material with water-like appearance\n        const oceanMaterial = new THREE.MeshStandardMaterial({\n            color: 0x1a5f7a,\n            transparent: true,\n            opacity: 0.9,\n            metalness: 0.1,\n            roughness: 0.6,\n            side: THREE.DoubleSide\n        });\n\n        this.ocean = new THREE.Mesh(oceanGeometry, oceanMaterial);\n        this.ocean.rotation.x = -Math.PI / 2;\n        this.ocean.receiveShadow = true;\n\n        // Add subtle waves to the ocean\n        this.oceanGeometry = oceanGeometry;\n        this.waveTime = 0;\n\n        this.group.add(this.ocean);\n\n        // Add ocean grid for reference\n        const gridHelper = new THREE.GridHelper(120, 40, 0x2a6f8a, 0x1a4f6a);\n        gridHelper.position.y = 0.1;\n        this.group.add(gridHelper);\n    }\n\n    createLandmasses() {\n        const landMaterial = new THREE.MeshStandardMaterial({\n            color: 0x2d5016,\n            roughness: 0.9,\n            metalness: 0.1\n        });\n\n        // Vancouver Island (west side) - simplified shape\n        const islandShape = new THREE.Shape();\n        islandShape.moveTo(-60, -50);\n        islandShape.lineTo(-60, 50);\n        islandShape.lineTo(-50, 55);\n        islandShape.lineTo(-48, 50);\n        islandShape.lineTo(-48, -50);\n        islandShape.lineTo(-52, -55);\n        islandShape.closePath();\n\n        const islandGeometry = new THREE.ExtrudeGeometry(islandShape, {\n            depth: 2,\n            bevelEnabled: false\n        });\n        const island = new THREE.Mesh(islandGeometry, landMaterial);\n        island.rotation.x = -Math.PI / 2;\n        island.position.y = 1;\n        this.group.add(island);\n\n        // Mainland BC (east side) - simplified shape\n        const mainlandShape = new THREE.Shape();\n        mainlandShape.moveTo(48, -60);\n        mainlandShape.lineTo(48, 30);\n        mainlandShape.lineTo(45, 40);\n        mainlandShape.lineTo(40, 50);\n        mainlandShape.lineTo(35, 55);\n        mainlandShape.lineTo(35, 60);\n        mainlandShape.lineTo(60, 60);\n        mainlandShape.lineTo(60, -60);\n        mainlandShape.closePath();\n\n        const mainlandGeometry = new THREE.ExtrudeGeometry(mainlandShape, {\n            depth: 2,\n            bevelEnabled: false\n        });\n        const mainland = new THREE.Mesh(mainlandGeometry, landMaterial);\n        mainland.rotation.x = -Math.PI / 2;\n        mainland.position.y = 1;\n        this.group.add(mainland);\n\n        // Fraser River mouth indicator (south end)\n        const riverMouthGeometry = new THREE.CylinderGeometry(1.5, 1.5, 0.5, 16);\n        const riverMouthMaterial = new THREE.MeshStandardMaterial({\n            color: 0x4fc3f7,\n            emissive: 0x2196f3,\n            emissiveIntensity: 0.3\n        });\n        this.riverMouth = new THREE.Mesh(riverMouthGeometry, riverMouthMaterial);\n        this.riverMouth.position.set(35, 0.5, -45); // Southeast position\n        this.group.add(this.riverMouth);\n\n        // Add labels using sprites\n        this.addLabel('Vancouver Island', -50, 2, 0);\n        this.addLabel('Mainland BC', 50, 2, 0);\n        this.addLabel('Fraser River', 35, 2, -48);\n    }\n\n    addLabel(text, x, y, z) {\n        const canvas = document.createElement('canvas');\n        const context = canvas.getContext('2d');\n        canvas.width = 512;\n        canvas.height = 128;\n\n        context.fillStyle = 'rgba(0, 0, 0, 0.6)';\n        context.fillRect(0, 0, canvas.width, canvas.height);\n\n        context.font = 'Bold 48px Arial';\n        context.fillStyle = '#ffffff';\n        context.textAlign = 'center';\n        context.textBaseline = 'middle';\n        context.fillText(text, canvas.width / 2, canvas.height / 2);\n\n        const texture = new THREE.CanvasTexture(canvas);\n        const spriteMaterial = new THREE.SpriteMaterial({ map: texture });\n        const sprite = new THREE.Sprite(spriteMaterial);\n\n        sprite.position.set(x, y, z);\n        sprite.scale.set(15, 4, 1);\n\n        this.group.add(sprite);\n    }\n\n    update(time) {\n        // Animate ocean waves\n        this.waveTime = time;\n        const positions = this.oceanGeometry.attributes.position;\n\n        for (let i = 0; i < positions.count; i++) {\n            const x = positions.getX(i);\n            const y = positions.getY(i);\n\n            const waveHeight = Math.sin(x * 0.1 + time * 0.5) *\n                             Math.cos(y * 0.1 + time * 0.3) * 0.3;\n\n            positions.setZ(i, waveHeight);\n        }\n\n        positions.needsUpdate = true;\n        this.oceanGeometry.computeVertexNormals();\n\n        // Pulse the river mouth indicator\n        const pulse = Math.sin(time * 2) * 0.2 + 1;\n        this.riverMouth.scale.set(pulse, 1, pulse);\n    }\n}\n","import * as THREE from 'three';\n\nexport class ParticleSystem {\n    constructor(particleCount = 5000) {\n        this.particleCount = particleCount;\n        this.velocityField = null;\n        this.dataGenerator = null; // Will be set externally\n\n        this.createParticles();\n    }\n\n    createParticles() {\n        // Particle geometry\n        const positions = new Float32Array(this.particleCount * 3);\n        const colors = new Float32Array(this.particleCount * 3);\n        const sizes = new Float32Array(this.particleCount);\n        const lifetimes = new Float32Array(this.particleCount);\n\n        // Initialize particles\n        for (let i = 0; i < this.particleCount; i++) {\n            const i3 = i * 3;\n\n            // Random position within strait bounds\n            positions[i3] = (Math.random() - 0.5) * 90; // x\n            positions[i3 + 1] = Math.random() * 0.5 + 0.5; // y (just above water)\n            positions[i3 + 2] = (Math.random() - 0.5) * 110; // z\n\n            // Initial color (will be updated based on velocity)\n            colors[i3] = 0.3;\n            colors[i3 + 1] = 0.7;\n            colors[i3 + 2] = 1.0;\n\n            // Random size\n            sizes[i] = Math.random() * 0.5 + 0.3;\n\n            // Random lifetime (0-1)\n            lifetimes[i] = Math.random();\n        }\n\n        const geometry = new THREE.BufferGeometry();\n        geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));\n        geometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));\n        geometry.setAttribute('size', new THREE.BufferAttribute(sizes, 1));\n\n        // Store lifetimes as custom attribute\n        this.lifetimes = lifetimes;\n\n        // Particle material\n        const material = new THREE.PointsMaterial({\n            size: 0.8,\n            vertexColors: true,\n            transparent: true,\n            opacity: 0.7,\n            blending: THREE.AdditiveBlending,\n            depthWrite: false,\n            sizeAttenuation: true\n        });\n\n        this.points = new THREE.Points(geometry, material);\n        this.geometry = geometry;\n    }\n\n    setVelocityField(field) {\n        this.velocityField = field;\n    }\n\n    update(delta) {\n        if (!this.velocityField) return;\n\n        const positions = this.geometry.attributes.position.array;\n        const colors = this.geometry.attributes.color.array;\n\n        // Maximum velocity for color mapping\n        const maxVel = this.getMaxVelocity(this.velocityField);\n\n        for (let i = 0; i < this.particleCount; i++) {\n            const i3 = i * 3;\n\n            const x = positions[i3];\n            const y = positions[i3 + 1];\n            const z = positions[i3 + 2];\n\n            // Get velocity at particle position\n            const velocity = this.getVelocityAt(x, z, this.velocityField);\n\n            // Update position based on velocity\n            const speed = 5.0; // Speed multiplier for visualization\n            positions[i3] += velocity.u * delta * speed;\n            positions[i3 + 2] += velocity.v * delta * speed;\n\n            // Update lifetime\n            this.lifetimes[i] += delta * 0.2;\n\n            // Fade out old particles\n            if (this.lifetimes[i] > 1.0) {\n                // Respawn particle at random location\n                positions[i3] = (Math.random() - 0.5) * 90;\n                positions[i3 + 1] = Math.random() * 0.5 + 0.5;\n                positions[i3 + 2] = (Math.random() - 0.5) * 110;\n                this.lifetimes[i] = 0;\n            }\n\n            // Boundary check - respawn if out of bounds\n            if (Math.abs(positions[i3]) > 50 || Math.abs(positions[i3 + 2]) > 60) {\n                positions[i3] = (Math.random() - 0.5) * 90;\n                positions[i3 + 2] = (Math.random() - 0.5) * 110;\n                this.lifetimes[i] = 0;\n            }\n\n            // Update color based on velocity magnitude\n            const normalizedSpeed = Math.min(velocity.magnitude / (maxVel + 0.01), 1.0);\n\n            // Color gradient: blue (slow) -> cyan -> yellow -> red (fast)\n            if (normalizedSpeed < 0.33) {\n                // Blue to cyan\n                const t = normalizedSpeed / 0.33;\n                colors[i3] = 0.2 + t * 0.3; // R\n                colors[i3 + 1] = 0.5 + t * 0.5; // G\n                colors[i3 + 2] = 1.0; // B\n            } else if (normalizedSpeed < 0.66) {\n                // Cyan to yellow\n                const t = (normalizedSpeed - 0.33) / 0.33;\n                colors[i3] = 0.5 + t * 0.5; // R\n                colors[i3 + 1] = 1.0; // G\n                colors[i3 + 2] = 1.0 - t * 1.0; // B\n            } else {\n                // Yellow to red\n                const t = (normalizedSpeed - 0.66) / 0.34;\n                colors[i3] = 1.0; // R\n                colors[i3 + 1] = 1.0 - t * 1.0; // G\n                colors[i3 + 2] = 0.0; // B\n            }\n\n            // Apply lifetime fade\n            const alpha = Math.sin(this.lifetimes[i] * Math.PI);\n            colors[i3] *= alpha;\n            colors[i3 + 1] *= alpha;\n            colors[i3 + 2] *= alpha;\n        }\n\n        this.geometry.attributes.position.needsUpdate = true;\n        this.geometry.attributes.color.needsUpdate = true;\n    }\n\n    setParticleCount(count) {\n        this.particleCount = count;\n        this.points.geometry.dispose();\n        this.createParticles();\n    }\n\n    getVelocityAt(x, z, field) {\n        // Bilinear interpolation to get velocity at arbitrary point\n        const gridWidth = field[0].length;\n        const gridHeight = field.length;\n        const gridSpacing = 2.5;\n\n        const gridX = (x / gridSpacing) + (gridWidth / 2);\n        const gridZ = (z / gridSpacing) + (gridHeight / 2);\n\n        // Clamp to grid boundaries\n        if (gridX < 0 || gridX >= gridWidth - 1 ||\n            gridZ < 0 || gridZ >= gridHeight - 1) {\n            return { u: 0, v: 0, magnitude: 0 };\n        }\n\n        const i = Math.floor(gridZ);\n        const j = Math.floor(gridX);\n        const fx = gridX - j;\n        const fz = gridZ - i;\n\n        // Get four surrounding grid points\n        const p00 = field[i][j];\n        const p10 = field[i][j + 1];\n        const p01 = field[i + 1][j];\n        const p11 = field[i + 1][j + 1];\n\n        // Bilinear interpolation\n        const u = (1 - fx) * (1 - fz) * p00.u +\n                  fx * (1 - fz) * p10.u +\n                  (1 - fx) * fz * p01.u +\n                  fx * fz * p11.u;\n\n        const v = (1 - fx) * (1 - fz) * p00.v +\n                  fx * (1 - fz) * p10.v +\n                  (1 - fx) * fz * p01.v +\n                  fx * fz * p11.v;\n\n        const magnitude = Math.sqrt(u * u + v * v);\n\n        return { u, v, magnitude };\n    }\n\n    getMaxVelocity(field) {\n        let maxMag = 0;\n        for (let i = 0; i < field.length; i++) {\n            for (let j = 0; j < field[i].length; j++) {\n                if (field[i][j].magnitude > maxMag) {\n                    maxMag = field[i][j].magnitude;\n                }\n            }\n        }\n        return maxMag;\n    }\n}\n","import * as THREE from 'three';\n\nexport class VectorField {\n    constructor() {\n        this.group = new THREE.Group();\n        this.arrows = [];\n        this.samplePoints = this.createSampleGrid();\n    }\n\n    createSampleGrid() {\n        // Create a grid of sample points (fewer than full field for visibility)\n        const points = [];\n        const spacing = 10; // Sample every 10 units\n\n        for (let z = -50; z <= 50; z += spacing) {\n            for (let x = -40; x <= 40; x += spacing) {\n                points.push({ x, z });\n            }\n        }\n\n        return points;\n    }\n\n    update(velocityField) {\n        // Clear existing arrows\n        this.group.clear();\n        this.arrows = [];\n\n        // Find max velocity for scaling\n        let maxMagnitude = 0;\n        for (let i = 0; i < velocityField.length; i++) {\n            for (let j = 0; j < velocityField[i].length; j++) {\n                if (velocityField[i][j].magnitude > maxMagnitude) {\n                    maxMagnitude = velocityField[i][j].magnitude;\n                }\n            }\n        }\n\n        // Create arrows at sample points\n        this.samplePoints.forEach(point => {\n            const velocity = this.interpolateVelocity(point.x, point.z, velocityField);\n\n            if (velocity.magnitude > 0.01) {\n                const arrow = this.createArrow(\n                    point.x,\n                    point.z,\n                    velocity.u,\n                    velocity.v,\n                    velocity.magnitude,\n                    maxMagnitude\n                );\n                this.group.add(arrow);\n                this.arrows.push(arrow);\n            }\n        });\n    }\n\n    interpolateVelocity(x, z, field) {\n        // Simple nearest-neighbor lookup\n        // (Could be improved with bilinear interpolation)\n\n        let minDist = Infinity;\n        let closestVelocity = { u: 0, v: 0, magnitude: 0 };\n\n        for (let i = 0; i < field.length; i++) {\n            for (let j = 0; j < field[i].length; j++) {\n                const dx = field[i][j].x - x;\n                const dz = field[i][j].z - z;\n                const dist = Math.sqrt(dx * dx + dz * dz);\n\n                if (dist < minDist) {\n                    minDist = dist;\n                    closestVelocity = field[i][j];\n                }\n            }\n        }\n\n        return closestVelocity;\n    }\n\n    createArrow(x, z, u, v, magnitude, maxMagnitude) {\n        const group = new THREE.Group();\n\n        // Arrow direction\n        const direction = new THREE.Vector3(u, 0, v).normalize();\n\n        // Arrow length based on magnitude\n        const length = (magnitude / (maxMagnitude + 0.01)) * 8;\n\n        // Color based on magnitude\n        const normalizedMag = magnitude / (maxMagnitude + 0.01);\n        const color = this.getColorFromSpeed(normalizedMag);\n\n        // Arrow shaft (cylinder)\n        const shaftGeometry = new THREE.CylinderGeometry(0.1, 0.1, length * 0.7, 8);\n        const shaftMaterial = new THREE.MeshBasicMaterial({ color: color });\n        const shaft = new THREE.Mesh(shaftGeometry, shaftMaterial);\n\n        // Arrow head (cone)\n        const headGeometry = new THREE.ConeGeometry(0.3, length * 0.3, 8);\n        const headMaterial = new THREE.MeshBasicMaterial({ color: color });\n        const head = new THREE.Mesh(headGeometry, headMaterial);\n\n        // Position shaft\n        shaft.position.y = length * 0.35;\n\n        // Position head\n        head.position.y = length * 0.7 + length * 0.15;\n\n        group.add(shaft);\n        group.add(head);\n\n        // Orient arrow in direction of flow\n        const angle = Math.atan2(u, v);\n        group.rotation.y = -angle;\n        group.rotation.x = Math.PI / 2;\n\n        // Position arrow\n        group.position.set(x, 1, z);\n\n        return group;\n    }\n\n    getColorFromSpeed(normalizedSpeed) {\n        // Blue (slow) -> Cyan -> Yellow -> Red (fast)\n        const color = new THREE.Color();\n\n        if (normalizedSpeed < 0.33) {\n            const t = normalizedSpeed / 0.33;\n            color.setRGB(0.2 + t * 0.3, 0.5 + t * 0.5, 1.0);\n        } else if (normalizedSpeed < 0.66) {\n            const t = (normalizedSpeed - 0.33) / 0.33;\n            color.setRGB(0.5 + t * 0.5, 1.0, 1.0 - t);\n        } else {\n            const t = (normalizedSpeed - 0.66) / 0.34;\n            color.setRGB(1.0, 1.0 - t, 0.0);\n        }\n\n        return color;\n    }\n\n    setVisible(visible) {\n        this.group.visible = visible;\n    }\n}\n","/* @license\nPapa Parse\nv5.5.3\nhttps://github.com/mholt/PapaParse\nLicense: MIT\n*/\n((e,t)=>{\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof module&&\"undefined\"!=typeof exports?module.exports=t():e.Papa=t()})(this,function r(){var n=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:void 0!==n?n:{};var d,s=!n.document&&!!n.postMessage,a=n.IS_PAPA_WORKER||!1,o={},h=0,v={};function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine=\"\",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null);this._handle=new i(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(t,e){var i=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<i){let e=this._config.newline;e||(r=this._config.quoteChar||'\"',e=this._handle.guessLineEndings(t,r)),t=[...t.split(e).slice(i)].join(e)}this.isFirstChunk&&U(this._config.beforeFirstChunk)&&void 0!==(r=this._config.beforeFirstChunk(t))&&(t=r),this.isFirstChunk=!1,this._halted=!1;var i=this._partialLine+t,r=(this._partialLine=\"\",this._handle.parse(i,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){t=r.meta.cursor,i=(this._finished||(this._partialLine=i.substring(t-this._baseIndex),this._baseIndex=t),r&&r.data&&(this._rowCount+=r.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview);if(a)n.postMessage({results:r,workerId:v.WORKER_ID,finished:i});else if(U(this._config.chunk)&&!e){if(this._config.chunk(r,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=r=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(r.data),this._completeResults.errors=this._completeResults.errors.concat(r.errors),this._completeResults.meta=r.meta),this._completed||!i||!U(this._config.complete)||r&&r.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),i||r&&r.meta.paused||this._nextChunk(),r}this._halted=!0},this._sendError=function(e){U(this._config.error)?this._config.error(e):a&&this._config.error&&n.postMessage({workerId:v.WORKER_ID,error:e,finished:!1})}}function f(e){var r;(e=e||{}).chunkSize||(e.chunkSize=v.RemoteChunkSize),u.call(this,e),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(r=new XMLHttpRequest,this._config.withCredentials&&(r.withCredentials=this._config.withCredentials),s||(r.onload=y(this._chunkLoaded,this),r.onerror=y(this._chunkError,this)),r.open(this._config.downloadRequestBody?\"POST\":\"GET\",this._input,!s),this._config.downloadRequestHeaders){var e,t=this._config.downloadRequestHeaders;for(e in t)r.setRequestHeader(e,t[e])}var i;this._config.chunkSize&&(i=this._start+this._config.chunkSize-1,r.setRequestHeader(\"Range\",\"bytes=\"+this._start+\"-\"+i));try{r.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}s&&0===r.status&&this._chunkError()}},this._chunkLoaded=function(){4===r.readyState&&(r.status<200||400<=r.status?this._chunkError():(this._start+=this._config.chunkSize||r.responseText.length,this._finished=!this._config.chunkSize||this._start>=(e=>null!==(e=e.getResponseHeader(\"Content-Range\"))?parseInt(e.substring(e.lastIndexOf(\"/\")+1)):-1)(r),this.parseChunk(r.responseText)))},this._chunkError=function(e){e=r.statusText||e;this._sendError(new Error(e))}}function l(e){(e=e||{}).chunkSize||(e.chunkSize=v.LocalChunkSize),u.call(this,e);var i,r,n=\"undefined\"!=typeof FileReader;this.stream=function(e){this._input=e,r=e.slice||e.webkitSlice||e.mozSlice,n?((i=new FileReader).onload=y(this._chunkLoaded,this),i.onerror=y(this._chunkError,this)):i=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,t=(this._config.chunkSize&&(t=Math.min(this._start+this._config.chunkSize,this._input.size),e=r.call(e,this._start,t)),i.readAsText(e,this._config.encoding));n||this._chunkLoaded({target:{result:t}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(i.error)}}function c(e){var i;u.call(this,e=e||{}),this.stream=function(e){return i=e,this._nextChunk()},this._nextChunk=function(){var e,t;if(!this._finished)return e=this._config.chunkSize,i=e?(t=i.substring(0,e),i.substring(e)):(t=i,\"\"),this._finished=!i,this.parseChunk(t)}}function p(e){u.call(this,e=e||{});var t=[],i=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on(\"data\",this._streamData),this._input.on(\"end\",this._streamEnd),this._input.on(\"error\",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):i=!0},this._streamData=y(function(e){try{t.push(\"string\"==typeof e?e:e.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=y(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=y(function(){this._streamCleanUp(),r=!0,this._streamData(\"\")},this),this._streamCleanUp=y(function(){this._input.removeListener(\"data\",this._streamData),this._input.removeListener(\"end\",this._streamEnd),this._input.removeListener(\"error\",this._streamError)},this)}function i(m){var n,s,a,t,o=Math.pow(2,53),h=-o,u=/^\\s*-?(\\d+\\.?|\\.\\d+|\\d+\\.\\d+)([eE][-+]?\\d+)?\\s*$/,d=/^((\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z)))$/,i=this,r=0,f=0,l=!1,e=!1,c=[],p={data:[],errors:[],meta:{}};function y(e){return\"greedy\"===m.skipEmptyLines?\"\"===e.join(\"\").trim():1===e.length&&0===e[0].length}function g(){if(p&&a&&(k(\"Delimiter\",\"UndetectableDelimiter\",\"Unable to auto-detect delimiting character; defaulted to '\"+v.DefaultDelimiter+\"'\"),a=!1),m.skipEmptyLines&&(p.data=p.data.filter(function(e){return!y(e)})),_()){if(p)if(Array.isArray(p.data[0])){for(var e=0;_()&&e<p.data.length;e++)p.data[e].forEach(t);p.data.splice(0,1)}else p.data.forEach(t);function t(e,t){U(m.transformHeader)&&(e=m.transformHeader(e,t)),c.push(e)}}function i(e,t){for(var i=m.header?{}:[],r=0;r<e.length;r++){var n=r,s=e[r],s=((e,t)=>(e=>(m.dynamicTypingFunction&&void 0===m.dynamicTyping[e]&&(m.dynamicTyping[e]=m.dynamicTypingFunction(e)),!0===(m.dynamicTyping[e]||m.dynamicTyping)))(e)?\"true\"===t||\"TRUE\"===t||\"false\"!==t&&\"FALSE\"!==t&&((e=>{if(u.test(e)){e=parseFloat(e);if(h<e&&e<o)return 1}})(t)?parseFloat(t):d.test(t)?new Date(t):\"\"===t?null:t):t)(n=m.header?r>=c.length?\"__parsed_extra\":c[r]:n,s=m.transform?m.transform(s,n):s);\"__parsed_extra\"===n?(i[n]=i[n]||[],i[n].push(s)):i[n]=s}return m.header&&(r>c.length?k(\"FieldMismatch\",\"TooManyFields\",\"Too many fields: expected \"+c.length+\" fields but parsed \"+r,f+t):r<c.length&&k(\"FieldMismatch\",\"TooFewFields\",\"Too few fields: expected \"+c.length+\" fields but parsed \"+r,f+t)),i}var r;p&&(m.header||m.dynamicTyping||m.transform)&&(r=1,!p.data.length||Array.isArray(p.data[0])?(p.data=p.data.map(i),r=p.data.length):p.data=i(p.data,0),m.header&&p.meta&&(p.meta.fields=c),f+=r)}function _(){return m.header&&0===c.length}function k(e,t,i,r){e={type:e,code:t,message:i};void 0!==r&&(e.row=r),p.errors.push(e)}U(m.step)&&(t=m.step,m.step=function(e){p=e,_()?g():(g(),0!==p.data.length&&(r+=e.data.length,m.preview&&r>m.preview?s.abort():(p.data=p.data[0],t(p,i))))}),this.parse=function(e,t,i){var r=m.quoteChar||'\"',r=(m.newline||(m.newline=this.guessLineEndings(e,r)),a=!1,m.delimiter?U(m.delimiter)&&(m.delimiter=m.delimiter(e),p.meta.delimiter=m.delimiter):((r=((e,t,i,r,n)=>{var s,a,o,h;n=n||[\",\",\"\\t\",\"|\",\";\",v.RECORD_SEP,v.UNIT_SEP];for(var u=0;u<n.length;u++){for(var d,f=n[u],l=0,c=0,p=0,g=(o=void 0,new E({comments:r,delimiter:f,newline:t,preview:10}).parse(e)),_=0;_<g.data.length;_++)i&&y(g.data[_])?p++:(d=g.data[_].length,c+=d,void 0===o?o=d:0<d&&(l+=Math.abs(d-o),o=d));0<g.data.length&&(c/=g.data.length-p),(void 0===a||l<=a)&&(void 0===h||h<c)&&1.99<c&&(a=l,s=f,h=c)}return{successful:!!(m.delimiter=s),bestDelimiter:s}})(e,m.newline,m.skipEmptyLines,m.comments,m.delimitersToGuess)).successful?m.delimiter=r.bestDelimiter:(a=!0,m.delimiter=v.DefaultDelimiter),p.meta.delimiter=m.delimiter),b(m));return m.preview&&m.header&&r.preview++,n=e,s=new E(r),p=s.parse(n,t,i),g(),l?{meta:{paused:!0}}:p||{meta:{paused:!1}}},this.paused=function(){return l},this.pause=function(){l=!0,s.abort(),n=U(m.chunk)?\"\":n.substring(s.getCharIndex())},this.resume=function(){i.streamer._halted?(l=!1,i.streamer.parseChunk(n,!0)):setTimeout(i.resume,3)},this.aborted=function(){return e},this.abort=function(){e=!0,s.abort(),p.meta.aborted=!0,U(m.complete)&&m.complete(p),n=\"\"},this.guessLineEndings=function(e,t){e=e.substring(0,1048576);var t=new RegExp(P(t)+\"([^]*?)\"+P(t),\"gm\"),i=(e=e.replace(t,\"\")).split(\"\\r\"),t=e.split(\"\\n\"),e=1<t.length&&t[0].length<i[0].length;if(1===i.length||e)return\"\\n\";for(var r=0,n=0;n<i.length;n++)\"\\n\"===i[n][0]&&r++;return r>=i.length/2?\"\\r\\n\":\"\\r\"}}function P(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\")}function E(C){var S=(C=C||{}).delimiter,O=C.newline,x=C.comments,I=C.step,A=C.preview,T=C.fastMode,D=null,L=!1,F=null==C.quoteChar?'\"':C.quoteChar,j=F;if(void 0!==C.escapeChar&&(j=C.escapeChar),(\"string\"!=typeof S||-1<v.BAD_DELIMITERS.indexOf(S))&&(S=\",\"),x===S)throw new Error(\"Comment character same as delimiter\");!0===x?x=\"#\":(\"string\"!=typeof x||-1<v.BAD_DELIMITERS.indexOf(x))&&(x=!1),\"\\n\"!==O&&\"\\r\"!==O&&\"\\r\\n\"!==O&&(O=\"\\n\");var z=0,M=!1;this.parse=function(i,t,r){if(\"string\"!=typeof i)throw new Error(\"Input must be a string\");var n=i.length,e=S.length,s=O.length,a=x.length,o=U(I),h=[],u=[],d=[],f=z=0;if(!i)return w();if(T||!1!==T&&-1===i.indexOf(F)){for(var l=i.split(O),c=0;c<l.length;c++){if(d=l[c],z+=d.length,c!==l.length-1)z+=O.length;else if(r)return w();if(!x||d.substring(0,a)!==x){if(o){if(h=[],k(d.split(S)),R(),M)return w()}else k(d.split(S));if(A&&A<=c)return h=h.slice(0,A),w(!0)}}return w()}for(var p=i.indexOf(S,z),g=i.indexOf(O,z),_=new RegExp(P(j)+P(F),\"g\"),m=i.indexOf(F,z);;)if(i[z]===F)for(m=z,z++;;){if(-1===(m=i.indexOf(F,m+1)))return r||u.push({type:\"Quotes\",code:\"MissingQuotes\",message:\"Quoted field unterminated\",row:h.length,index:z}),E();if(m===n-1)return E(i.substring(z,m).replace(_,F));if(F===j&&i[m+1]===j)m++;else if(F===j||0===m||i[m-1]!==j){-1!==p&&p<m+1&&(p=i.indexOf(S,m+1));var y=v(-1===(g=-1!==g&&g<m+1?i.indexOf(O,m+1):g)?p:Math.min(p,g));if(i.substr(m+1+y,e)===S){d.push(i.substring(z,m).replace(_,F)),i[z=m+1+y+e]!==F&&(m=i.indexOf(F,z)),p=i.indexOf(S,z),g=i.indexOf(O,z);break}y=v(g);if(i.substring(m+1+y,m+1+y+s)===O){if(d.push(i.substring(z,m).replace(_,F)),b(m+1+y+s),p=i.indexOf(S,z),m=i.indexOf(F,z),o&&(R(),M))return w();if(A&&h.length>=A)return w(!0);break}u.push({type:\"Quotes\",code:\"InvalidQuotes\",message:\"Trailing quote on quoted field is malformed\",row:h.length,index:z}),m++}}else if(x&&0===d.length&&i.substring(z,z+a)===x){if(-1===g)return w();z=g+s,g=i.indexOf(O,z),p=i.indexOf(S,z)}else if(-1!==p&&(p<g||-1===g))d.push(i.substring(z,p)),z=p+e,p=i.indexOf(S,z);else{if(-1===g)break;if(d.push(i.substring(z,g)),b(g+s),o&&(R(),M))return w();if(A&&h.length>=A)return w(!0)}return E();function k(e){h.push(e),f=z}function v(e){var t=0;return t=-1!==e&&(e=i.substring(m+1,e))&&\"\"===e.trim()?e.length:t}function E(e){return r||(void 0===e&&(e=i.substring(z)),d.push(e),z=n,k(d),o&&R()),w()}function b(e){z=e,k(d),d=[],g=i.indexOf(O,z)}function w(e){if(C.header&&!t&&h.length&&!L){var s=h[0],a=Object.create(null),o=new Set(s);let n=!1;for(let r=0;r<s.length;r++){let i=s[r];if(a[i=U(C.transformHeader)?C.transformHeader(i,r):i]){let e,t=a[i];for(;e=i+\"_\"+t,t++,o.has(e););o.add(e),s[r]=e,a[i]++,n=!0,(D=null===D?{}:D)[e]=i}else a[i]=1,s[r]=i;o.add(i)}n&&console.warn(\"Duplicate headers found and renamed.\"),L=!0}return{data:h,errors:u,meta:{delimiter:S,linebreak:O,aborted:M,truncated:!!e,cursor:f+(t||0),renamedHeaders:D}}}function R(){I(w()),h=[],u=[]}},this.abort=function(){M=!0},this.getCharIndex=function(){return z}}function g(e){var t=e.data,i=o[t.workerId],r=!1;if(t.error)i.userError(t.error,t.file);else if(t.results&&t.results.data){var n={abort:function(){r=!0,_(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:m,resume:m};if(U(i.userStep)){for(var s=0;s<t.results.data.length&&(i.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},n),!r);s++);delete t.results}else U(i.userChunk)&&(i.userChunk(t.results,n,t.file),delete t.results)}t.finished&&!r&&_(t.workerId,t.results)}function _(e,t){var i=o[e];U(i.userComplete)&&i.userComplete(t),i.terminate(),delete o[e]}function m(){throw new Error(\"Not implemented.\")}function b(e){if(\"object\"!=typeof e||null===e)return e;var t,i=Array.isArray(e)?[]:{};for(t in e)i[t]=b(e[t]);return i}function y(e,t){return function(){e.apply(t,arguments)}}function U(e){return\"function\"==typeof e}return v.parse=function(e,t){var i=(t=t||{}).dynamicTyping||!1;U(i)&&(t.dynamicTypingFunction=i,i={});if(t.dynamicTyping=i,t.transform=!!U(t.transform)&&t.transform,!t.worker||!v.WORKERS_SUPPORTED)return i=null,v.NODE_STREAM_INPUT,\"string\"==typeof e?(e=(e=>65279!==e.charCodeAt(0)?e:e.slice(1))(e),i=new(t.download?f:c)(t)):!0===e.readable&&U(e.read)&&U(e.on)?i=new p(t):(n.File&&e instanceof File||e instanceof Object)&&(i=new l(t)),i.stream(e);(i=(()=>{var e;return!!v.WORKERS_SUPPORTED&&(e=(()=>{var e=n.URL||n.webkitURL||null,t=r.toString();return v.BLOB_URL||(v.BLOB_URL=e.createObjectURL(new Blob([\"var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; \",\"(\",t,\")();\"],{type:\"text/javascript\"})))})(),(e=new n.Worker(e)).onmessage=g,e.id=h++,o[e.id]=e)})()).userStep=t.step,i.userChunk=t.chunk,i.userComplete=t.complete,i.userError=t.error,t.step=U(t.step),t.chunk=U(t.chunk),t.complete=U(t.complete),t.error=U(t.error),delete t.worker,i.postMessage({input:e,config:t,workerId:i.id})},v.unparse=function(e,t){var n=!1,_=!0,m=\",\",y=\"\\r\\n\",s='\"',a=s+s,i=!1,r=null,o=!1,h=((()=>{if(\"object\"==typeof t){if(\"string\"!=typeof t.delimiter||v.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(m=t.delimiter),\"boolean\"!=typeof t.quotes&&\"function\"!=typeof t.quotes&&!Array.isArray(t.quotes)||(n=t.quotes),\"boolean\"!=typeof t.skipEmptyLines&&\"string\"!=typeof t.skipEmptyLines||(i=t.skipEmptyLines),\"string\"==typeof t.newline&&(y=t.newline),\"string\"==typeof t.quoteChar&&(s=t.quoteChar),\"boolean\"==typeof t.header&&(_=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error(\"Option columns is empty\");r=t.columns}void 0!==t.escapeChar&&(a=t.escapeChar+s),t.escapeFormulae instanceof RegExp?o=t.escapeFormulae:\"boolean\"==typeof t.escapeFormulae&&t.escapeFormulae&&(o=/^[=+\\-@\\t\\r].*$/)}})(),new RegExp(P(s),\"g\"));\"string\"==typeof e&&(e=JSON.parse(e));if(Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return u(null,e,i);if(\"object\"==typeof e[0])return u(r||Object.keys(e[0]),e,i)}else if(\"object\"==typeof e)return\"string\"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||r),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:\"object\"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||\"object\"==typeof e.data[0]||(e.data=[e.data])),u(e.fields||[],e.data||[],i);throw new Error(\"Unable to serialize unrecognized input\");function u(e,t,i){var r=\"\",n=(\"string\"==typeof e&&(e=JSON.parse(e)),\"string\"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),s=!Array.isArray(t[0]);if(n&&_){for(var a=0;a<e.length;a++)0<a&&(r+=m),r+=k(e[a],a);0<t.length&&(r+=y)}for(var o=0;o<t.length;o++){var h=(n?e:t[o]).length,u=!1,d=n?0===Object.keys(t[o]).length:0===t[o].length;if(i&&!n&&(u=\"greedy\"===i?\"\"===t[o].join(\"\").trim():1===t[o].length&&0===t[o][0].length),\"greedy\"===i&&n){for(var f=[],l=0;l<h;l++){var c=s?e[l]:l;f.push(t[o][c])}u=\"\"===f.join(\"\").trim()}if(!u){for(var p=0;p<h;p++){0<p&&!d&&(r+=m);var g=n&&s?e[p]:p;r+=k(t[o][g],p)}o<t.length-1&&(!i||0<h&&!d)&&(r+=y)}}return r}function k(e,t){var i,r;return null==e?\"\":e.constructor===Date?JSON.stringify(e).slice(1,25):(r=!1,o&&\"string\"==typeof e&&o.test(e)&&(e=\"'\"+e,r=!0),i=e.toString().replace(h,a),(r=r||!0===n||\"function\"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||((e,t)=>{for(var i=0;i<t.length;i++)if(-1<e.indexOf(t[i]))return!0;return!1})(i,v.BAD_DELIMITERS)||-1<i.indexOf(m)||\" \"===i.charAt(0)||\" \"===i.charAt(i.length-1))?s+i+s:i)}},v.RECORD_SEP=String.fromCharCode(30),v.UNIT_SEP=String.fromCharCode(31),v.BYTE_ORDER_MARK=\"\\ufeff\",v.BAD_DELIMITERS=[\"\\r\",\"\\n\",'\"',v.BYTE_ORDER_MARK],v.WORKERS_SUPPORTED=!s&&!!n.Worker,v.NODE_STREAM_INPUT=1,v.LocalChunkSize=10485760,v.RemoteChunkSize=5242880,v.DefaultDelimiter=\",\",v.Parser=E,v.ParserHandle=i,v.NetworkStreamer=f,v.FileStreamer=l,v.StringStreamer=c,v.ReadableStreamStreamer=p,n.jQuery&&((d=n.jQuery).fn.parse=function(o){var i=o.config||{},h=[];return this.each(function(e){if(!(\"INPUT\"===d(this).prop(\"tagName\").toUpperCase()&&\"file\"===d(this).attr(\"type\").toLowerCase()&&n.FileReader)||!this.files||0===this.files.length)return!0;for(var t=0;t<this.files.length;t++)h.push({file:this.files[t],inputElem:this,instanceConfig:d.extend({},i)})}),e(),this;function e(){if(0===h.length)U(o.complete)&&o.complete();else{var e,t,i,r,n=h[0];if(U(o.before)){var s=o.before(n.file,n.inputElem);if(\"object\"==typeof s){if(\"abort\"===s.action)return e=\"AbortError\",t=n.file,i=n.inputElem,r=s.reason,void(U(o.error)&&o.error({name:e},t,i,r));if(\"skip\"===s.action)return void u();\"object\"==typeof s.config&&(n.instanceConfig=d.extend(n.instanceConfig,s.config))}else if(\"skip\"===s)return void u()}var a=n.instanceConfig.complete;n.instanceConfig.complete=function(e){U(a)&&a(e,n.file,n.inputElem),u()},v.parse(n.file,n.instanceConfig)}}function u(){h.splice(0,1),e()}}),a&&(n.onmessage=function(e){e=e.data;void 0===v.WORKER_ID&&e&&(v.WORKER_ID=e.workerId);\"string\"==typeof e.input?n.postMessage({workerId:v.WORKER_ID,results:v.parse(e.input,e.config),finished:!0}):(n.File&&e.input instanceof File||e.input instanceof Object)&&(e=v.parse(e.input,e.config))&&n.postMessage({workerId:v.WORKER_ID,results:e,finished:!0})}),(f.prototype=Object.create(u.prototype)).constructor=f,(l.prototype=Object.create(u.prototype)).constructor=l,(c.prototype=Object.create(c.prototype)).constructor=c,(p.prototype=Object.create(u.prototype)).constructor=p,v});","import Papa from 'papaparse';\n\nexport class BuoyDataLoader {\n    constructor() {\n        this.data = [];\n        this.dataByTimestamp = new Map();\n        this.isLoaded = false;\n        this.stats = {\n            timeRange: { start: null, end: null },\n            riverDischarge: { min: Infinity, max: -Infinity },\n            velocity: { min: Infinity, max: -Infinity },\n            seaLevel: { min: Infinity, max: -Infinity },\n            temperature: { min: Infinity, max: -Infinity }\n        };\n    }\n\n    async loadCSV(filePath) {\n        console.log('Loading buoy data from:', filePath);\n\n        return new Promise((resolve, reject) => {\n            Papa.parse(filePath, {\n                download: true,\n                header: true,\n                dynamicTyping: true,\n                skipEmptyLines: true,\n                complete: (results) => {\n                    console.log('CSV parsed successfully. Rows:', results.data.length);\n                    this.processData(results.data);\n                    this.isLoaded = true;\n                    resolve(this.data);\n                },\n                error: (error) => {\n                    console.error('Error parsing CSV:', error);\n                    reject(error);\n                }\n            });\n        });\n    }\n\n    processData(rawData) {\n        console.log('Processing buoy data...');\n\n        rawData.forEach((row, index) => {\n            // Skip invalid rows\n            if (!row.time || row.time === '') return;\n\n            // Extract the 256 spatial grid values (z0 to z255)\n            const spatialGrid = [];\n            for (let i = 0; i < 256; i++) {\n                const key = `z${i}`;\n                spatialGrid.push(row[key] !== null && row[key] !== undefined ? row[key] : 0);\n            }\n\n            // Create data record\n            const record = {\n                timestamp: new Date(row.time),\n                time: row.time,\n\n                // Environmental measurements\n                airTemp: row.avg_air_temp_pst10mts_46131,\n                seaLevel: row['Sand Heads_SLEV'],\n                riverDischarge: row.Q_cms,\n\n                // Buoy velocity measurements (4 stations)\n                buoys: {\n                    46131: { u: row.u_46131, v: row.v_46131 },\n                    46146: { u: row.u_46146, v: row.v_46146 },\n                    46303: { u: row.u_46303, v: row.v_46303 },\n                    46304: { u: row.u_46304, v: row.v_46304 }\n                },\n\n                // Spatial grid data (256 points)\n                spatialGrid: spatialGrid,\n\n                // Temporal features\n                month: row.month,\n                hour: row.hour,\n                dayOfYear: row.day_of_year,\n                dayOfWeek: row.day_of_week,\n\n                // Cluster assignment\n                cluster: row.cluster,\n\n                // Index for easy navigation\n                index: index\n            };\n\n            this.data.push(record);\n            this.dataByTimestamp.set(row.time, record);\n\n            // Update statistics\n            this.updateStats(record);\n        });\n\n        console.log('Processed records:', this.data.length);\n        console.log('Statistics:', this.stats);\n    }\n\n    updateStats(record) {\n        // Time range\n        if (!this.stats.timeRange.start || record.timestamp < this.stats.timeRange.start) {\n            this.stats.timeRange.start = record.timestamp;\n        }\n        if (!this.stats.timeRange.end || record.timestamp > this.stats.timeRange.end) {\n            this.stats.timeRange.end = record.timestamp;\n        }\n\n        // River discharge\n        if (record.riverDischarge !== null && record.riverDischarge !== undefined) {\n            this.stats.riverDischarge.min = Math.min(this.stats.riverDischarge.min, record.riverDischarge);\n            this.stats.riverDischarge.max = Math.max(this.stats.riverDischarge.max, record.riverDischarge);\n        }\n\n        // Sea level\n        if (record.seaLevel !== null && record.seaLevel !== undefined) {\n            this.stats.seaLevel.min = Math.min(this.stats.seaLevel.min, record.seaLevel);\n            this.stats.seaLevel.max = Math.max(this.stats.seaLevel.max, record.seaLevel);\n        }\n\n        // Temperature\n        if (record.airTemp !== null && record.airTemp !== undefined) {\n            this.stats.temperature.min = Math.min(this.stats.temperature.min, record.airTemp);\n            this.stats.temperature.max = Math.max(this.stats.temperature.max, record.airTemp);\n        }\n\n        // Velocity (from all buoys)\n        Object.values(record.buoys).forEach(buoy => {\n            if (buoy.u !== null && buoy.u !== undefined && buoy.v !== null && buoy.v !== undefined) {\n                const mag = Math.sqrt(buoy.u * buoy.u + buoy.v * buoy.v);\n                this.stats.velocity.min = Math.min(this.stats.velocity.min, mag);\n                this.stats.velocity.max = Math.max(this.stats.velocity.max, mag);\n            }\n        });\n    }\n\n    getRecordByIndex(index) {\n        if (index < 0 || index >= this.data.length) return null;\n        return this.data[index];\n    }\n\n    getRecordByTimestamp(timestamp) {\n        return this.dataByTimestamp.get(timestamp);\n    }\n\n    getRecordByDate(date) {\n        // Find closest record to given date\n        if (this.data.length === 0) return null;\n\n        const targetTime = date.getTime();\n        let closestRecord = this.data[0];\n        let closestDiff = Math.abs(closestRecord.timestamp.getTime() - targetTime);\n\n        for (const record of this.data) {\n            const diff = Math.abs(record.timestamp.getTime() - targetTime);\n            if (diff < closestDiff) {\n                closestDiff = diff;\n                closestRecord = record;\n            }\n        }\n\n        return closestRecord;\n    }\n\n    getClusterName(clusterId) {\n        // Map cluster IDs to ocean regimes based on k-means clustering analysis\n        const clusterNames = {\n            0: 'Tide + River Dominated',\n            1: 'Wind/Storm-Dominated',\n            2: 'River Discharge Dominated'\n        };\n        return clusterNames[clusterId] || 'Unknown';\n    }\n\n    getStats() {\n        return this.stats;\n    }\n\n    getTotalRecords() {\n        return this.data.length;\n    }\n\n    getTimeRange() {\n        return this.stats.timeRange;\n    }\n}\n","export class FieldInterpolator {\n    constructor(targetWidth = 40, targetHeight = 48) {\n        // Target visualization grid dimensions\n        this.targetWidth = targetWidth;\n        this.targetHeight = targetHeight;\n        this.gridSpacing = 2.5;\n\n        // Source data is 256 points, likely 16x16 grid\n        this.sourceWidth = 16;\n        this.sourceHeight = 16;\n    }\n\n    /**\n     * Convert 256-point spatial grid to velocity field for visualization\n     * The z0-z255 values appear to be derived field quantities\n     * We'll interpret them as velocity magnitudes and create u,v components\n     */\n    interpolateToField(spatialGrid, buoyData) {\n        const field = [];\n\n        // First, reshape 1D array (256 values) into 2D grid (16x16)\n        const sourceGrid = this.reshapeToGrid(spatialGrid);\n\n        for (let i = 0; i < this.targetHeight; i++) {\n            field[i] = [];\n            for (let j = 0; j < this.targetWidth; j++) {\n                // World coordinates\n                const x = (j - this.targetWidth / 2) * this.gridSpacing;\n                const z = (i - this.targetHeight / 2) * this.gridSpacing;\n\n                // Get interpolated value from source grid\n                const gridValue = this.bilinearInterpolate(\n                    sourceGrid,\n                    j / (this.targetWidth / this.sourceWidth),\n                    i / (this.targetHeight / this.sourceHeight)\n                );\n\n                // Convert grid value to velocity components using buoy data as reference\n                const velocity = this.gridValueToVelocity(gridValue, x, z, buoyData);\n\n                field[i][j] = {\n                    x: x,\n                    z: z,\n                    u: velocity.u,\n                    v: velocity.v,\n                    magnitude: velocity.magnitude,\n                    gridValue: gridValue\n                };\n            }\n        }\n\n        return field;\n    }\n\n    reshapeToGrid(spatialArray) {\n        // Convert 256-element array to 16x16 grid\n        const grid = [];\n        for (let i = 0; i < this.sourceHeight; i++) {\n            grid[i] = [];\n            for (let j = 0; j < this.sourceWidth; j++) {\n                const index = i * this.sourceWidth + j;\n                grid[i][j] = spatialArray[index] || 0;\n            }\n        }\n        return grid;\n    }\n\n    bilinearInterpolate(grid, x, y) {\n        // Clamp to grid boundaries\n        const x0 = Math.max(0, Math.min(this.sourceWidth - 2, Math.floor(x)));\n        const y0 = Math.max(0, Math.min(this.sourceHeight - 2, Math.floor(y)));\n        const x1 = x0 + 1;\n        const y1 = y0 + 1;\n\n        // Fractional parts\n        const fx = x - x0;\n        const fy = y - y0;\n\n        // Get four corner values\n        const q00 = grid[y0][x0];\n        const q10 = grid[y0][x1];\n        const q01 = grid[y1][x0];\n        const q11 = grid[y1][x1];\n\n        // Bilinear interpolation\n        const value = (1 - fx) * (1 - fy) * q00 +\n                      fx * (1 - fy) * q10 +\n                      (1 - fx) * fy * q01 +\n                      fx * fy * q11;\n\n        return value;\n    }\n\n    gridValueToVelocity(gridValue, x, z, buoyData) {\n        // Strategy: Use buoy measurements to establish velocity direction/scale\n        // and use gridValue as a spatial modifier\n\n        // Average the buoy velocities to get regional flow pattern\n        let avgU = 0;\n        let avgV = 0;\n        let count = 0;\n\n        Object.values(buoyData).forEach(buoy => {\n            if (buoy.u !== null && buoy.u !== undefined &&\n                buoy.v !== null && buoy.v !== undefined) {\n                avgU += buoy.u;\n                avgV += buoy.v;\n                count++;\n            }\n        });\n\n        if (count > 0) {\n            avgU /= count;\n            avgV /= count;\n        }\n\n        // Use gridValue to modulate the velocity\n        // GridValue appears to be a normalized quantity (typically -0.1 to 0.1 based on data)\n        // Scale it to affect the velocity magnitude\n        const scaleFactor = 1.0 + (gridValue * 5.0); // Allow 50% variation from average\n\n        const u = avgU * scaleFactor;\n        const v = avgV * scaleFactor;\n        const magnitude = Math.sqrt(u * u + v * v);\n\n        return { u, v, magnitude };\n    }\n\n    /**\n     * Alternative: Use buoy positions to create spatial interpolation\n     * This gives more physically accurate representation\n     */\n    interpolateFromBuoys(buoyData, buoyPositions) {\n        const field = [];\n\n        for (let i = 0; i < this.targetHeight; i++) {\n            field[i] = [];\n            for (let j = 0; j < this.targetWidth; j++) {\n                const x = (j - this.targetWidth / 2) * this.gridSpacing;\n                const z = (i - this.targetHeight / 2) * this.gridSpacing;\n\n                // Inverse distance weighting from buoy stations\n                const velocity = this.inverseDistanceWeighting(\n                    x, z, buoyData, buoyPositions\n                );\n\n                field[i][j] = {\n                    x: x,\n                    z: z,\n                    u: velocity.u,\n                    v: velocity.v,\n                    magnitude: velocity.magnitude\n                };\n            }\n        }\n\n        return field;\n    }\n\n    inverseDistanceWeighting(x, z, buoyData, buoyPositions) {\n        let totalWeight = 0;\n        let weightedU = 0;\n        let weightedV = 0;\n\n        Object.entries(buoyData).forEach(([buoyId, data]) => {\n            if (!buoyPositions[buoyId]) return;\n            if (data.u === null || data.v === null) return;\n\n            const buoyPos = buoyPositions[buoyId];\n            const dx = x - buoyPos.x;\n            const dz = z - buoyPos.z;\n            const distance = Math.sqrt(dx * dx + dz * dz) + 0.1; // Avoid division by zero\n\n            // Inverse distance weight (p=2 is common)\n            const weight = 1.0 / (distance * distance);\n\n            weightedU += data.u * weight;\n            weightedV += data.v * weight;\n            totalWeight += weight;\n        });\n\n        if (totalWeight > 0) {\n            weightedU /= totalWeight;\n            weightedV /= totalWeight;\n        }\n\n        const magnitude = Math.sqrt(weightedU * weightedU + weightedV * weightedV);\n        return { u: weightedU, v: weightedV, magnitude };\n    }\n\n    /**\n     * Get velocity at arbitrary point using bilinear interpolation\n     */\n    getVelocityAt(x, z, field) {\n        const gridX = (x / this.gridSpacing) + (this.targetWidth / 2);\n        const gridZ = (z / this.gridSpacing) + (this.targetHeight / 2);\n\n        // Clamp to grid boundaries\n        if (gridX < 0 || gridX >= this.targetWidth - 1 ||\n            gridZ < 0 || gridZ >= this.targetHeight - 1) {\n            return { u: 0, v: 0, magnitude: 0 };\n        }\n\n        const i = Math.floor(gridZ);\n        const j = Math.floor(gridX);\n        const fx = gridX - j;\n        const fz = gridZ - i;\n\n        // Get four surrounding grid points\n        const p00 = field[i][j];\n        const p10 = field[i][j + 1];\n        const p01 = field[i + 1][j];\n        const p11 = field[i + 1][j + 1];\n\n        // Bilinear interpolation\n        const u = (1 - fx) * (1 - fz) * p00.u +\n                  fx * (1 - fz) * p10.u +\n                  (1 - fx) * fz * p01.u +\n                  fx * fz * p11.u;\n\n        const v = (1 - fx) * (1 - fz) * p00.v +\n                  fx * (1 - fz) * p10.v +\n                  (1 - fx) * fz * p01.v +\n                  fx * fz * p11.v;\n\n        const magnitude = Math.sqrt(u * u + v * v);\n\n        return { u, v, magnitude };\n    }\n\n    getMaxVelocity(field) {\n        let maxMag = 0;\n        for (let i = 0; i < field.length; i++) {\n            for (let j = 0; j < field[i].length; j++) {\n                if (field[i][j].magnitude > maxMag) {\n                    maxMag = field[i][j].magnitude;\n                }\n            }\n        }\n        return maxMag;\n    }\n}\n","/**\n * lil-gui\n * https://lil-gui.georgealways.com\n * @version 0.21.0\n * @author George Michael Brower\n * @license MIT\n */\n\n/**\n * Base class for all controllers.\n */\nclass Controller {\n\n\tconstructor( parent, object, property, className, elementType = 'div' ) {\n\n\t\t/**\n\t\t * The GUI that contains this controller.\n\t\t * @type {GUI}\n\t\t */\n\t\tthis.parent = parent;\n\n\t\t/**\n\t\t * The object this controller will modify.\n\t\t * @type {object}\n\t\t */\n\t\tthis.object = object;\n\n\t\t/**\n\t\t * The name of the property to control.\n\t\t * @type {string}\n\t\t */\n\t\tthis.property = property;\n\n\t\t/**\n\t\t * Used to determine if the controller is disabled.\n\t\t * Use `controller.disable( true|false )` to modify this value.\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._disabled = false;\n\n\t\t/**\n\t\t * Used to determine if the Controller is hidden.\n\t\t * Use `controller.show()` or `controller.hide()` to change this.\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._hidden = false;\n\n\t\t/**\n\t\t * The value of `object[ property ]` when the controller was created.\n\t\t * @type {any}\n\t\t */\n\t\tthis.initialValue = this.getValue();\n\n\t\t/**\n\t\t * The outermost container DOM element for this controller.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.domElement = document.createElement( elementType );\n\t\tthis.domElement.classList.add( 'lil-controller' );\n\t\tthis.domElement.classList.add( className );\n\n\t\t/**\n\t\t * The DOM element that contains the controller's name.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$name = document.createElement( 'div' );\n\t\tthis.$name.classList.add( 'lil-name' );\n\n\t\tController.nextNameID = Controller.nextNameID || 0;\n\t\tthis.$name.id = `lil-gui-name-${++Controller.nextNameID}`;\n\n\t\t/**\n\t\t * The DOM element that contains the controller's \"widget\" (which differs by controller type).\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$widget = document.createElement( 'div' );\n\t\tthis.$widget.classList.add( 'lil-widget' );\n\n\t\t/**\n\t\t * The DOM element that receives the disabled attribute when using disable().\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$disable = this.$widget;\n\n\t\tthis.domElement.appendChild( this.$name );\n\t\tthis.domElement.appendChild( this.$widget );\n\n\t\t// Don't fire global key events while typing in a controller\n\t\tthis.domElement.addEventListener( 'keydown', e => e.stopPropagation() );\n\t\tthis.domElement.addEventListener( 'keyup', e => e.stopPropagation() );\n\n\t\tthis.parent.children.push( this );\n\t\tthis.parent.controllers.push( this );\n\n\t\tthis.parent.$children.appendChild( this.domElement );\n\n\t\tthis._listenCallback = this._listenCallback.bind( this );\n\n\t\tthis.name( property );\n\n\t}\n\n\t/**\n\t * Sets the name of the controller and its label in the GUI.\n\t * @param {string} name\n\t * @returns {this}\n\t */\n\tname( name ) {\n\t\t/**\n\t\t * The controller's name. Use `controller.name( 'Name' )` to modify this value.\n\t\t * @type {string}\n\t\t */\n\t\tthis._name = name;\n\t\tthis.$name.textContent = name;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Pass a function to be called whenever the value is modified by this controller.\n\t * The function receives the new value as its first parameter. The value of `this` will be the\n\t * controller.\n\t *\n\t * For function controllers, the `onChange` callback will be fired on click, after the function\n\t * executes.\n\t * @param {Function} callback\n\t * @returns {this}\n\t * @example\n\t * const controller = gui.add( object, 'property' );\n\t *\n\t * controller.onChange( function( v ) {\n\t * \tconsole.log( 'The value is now ' + v );\n\t * \tconsole.assert( this === controller );\n\t * } );\n\t */\n\tonChange( callback ) {\n\t\t/**\n\t\t * Used to access the function bound to `onChange` events. Don't modify this value directly.\n\t\t * Use the `controller.onChange( callback )` method instead.\n\t\t * @type {Function}\n\t\t */\n\t\tthis._onChange = callback;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Calls the onChange methods of this controller and its parent GUI.\n\t * @protected\n\t */\n\t_callOnChange() {\n\n\t\tthis.parent._callOnChange( this );\n\n\t\tif ( this._onChange !== undefined ) {\n\t\t\tthis._onChange.call( this, this.getValue() );\n\t\t}\n\n\t\tthis._changed = true;\n\n\t}\n\n\t/**\n\t * Pass a function to be called after this controller has been modified and loses focus.\n\t * @param {Function} callback\n\t * @returns {this}\n\t * @example\n\t * const controller = gui.add( object, 'property' );\n\t *\n\t * controller.onFinishChange( function( v ) {\n\t * \tconsole.log( 'Changes complete: ' + v );\n\t * \tconsole.assert( this === controller );\n\t * } );\n\t */\n\tonFinishChange( callback ) {\n\t\t/**\n\t\t * Used to access the function bound to `onFinishChange` events. Don't modify this value\n\t\t * directly. Use the `controller.onFinishChange( callback )` method instead.\n\t\t * @type {Function}\n\t\t */\n\t\tthis._onFinishChange = callback;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Should be called by Controller when its widgets lose focus.\n\t * @protected\n\t */\n\t_callOnFinishChange() {\n\n\t\tif ( this._changed ) {\n\n\t\t\tthis.parent._callOnFinishChange( this );\n\n\t\t\tif ( this._onFinishChange !== undefined ) {\n\t\t\t\tthis._onFinishChange.call( this, this.getValue() );\n\t\t\t}\n\n\t\t}\n\n\t\tthis._changed = false;\n\n\t}\n\n\t/**\n\t * Sets the controller back to its initial value.\n\t * @returns {this}\n\t */\n\treset() {\n\t\tthis.setValue( this.initialValue );\n\t\tthis._callOnFinishChange();\n\t\treturn this;\n\t}\n\n\t/**\n\t * Enables this controller.\n\t * @param {boolean} enabled\n\t * @returns {this}\n\t * @example\n\t * controller.enable();\n\t * controller.enable( false ); // disable\n\t * controller.enable( controller._disabled ); // toggle\n\t */\n\tenable( enabled = true ) {\n\t\treturn this.disable( !enabled );\n\t}\n\n\t/**\n\t * Disables this controller.\n\t * @param {boolean} disabled\n\t * @returns {this}\n\t * @example\n\t * controller.disable();\n\t * controller.disable( false ); // enable\n\t * controller.disable( !controller._disabled ); // toggle\n\t */\n\tdisable( disabled = true ) {\n\n\t\tif ( disabled === this._disabled ) return this;\n\n\t\tthis._disabled = disabled;\n\n\t\tthis.domElement.classList.toggle( 'lil-disabled', disabled );\n\t\tthis.$disable.toggleAttribute( 'disabled', disabled );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Shows the Controller after it's been hidden.\n\t * @param {boolean} show\n\t * @returns {this}\n\t * @example\n\t * controller.show();\n\t * controller.show( false ); // hide\n\t * controller.show( controller._hidden ); // toggle\n\t */\n\tshow( show = true ) {\n\n\t\tthis._hidden = !show;\n\n\t\tthis.domElement.style.display = this._hidden ? 'none' : '';\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Hides the Controller.\n\t * @returns {this}\n\t */\n\thide() {\n\t\treturn this.show( false );\n\t}\n\n\t/**\n\t * Changes this controller into a dropdown of options.\n\t *\n\t * Calling this method on an option controller will simply update the options. However, if this\n\t * controller was not already an option controller, old references to this controller are\n\t * destroyed, and a new controller is added to the end of the GUI.\n\t * @example\n\t * // safe usage\n\t *\n\t * gui.add( obj, 'prop1' ).options( [ 'a', 'b', 'c' ] );\n\t * gui.add( obj, 'prop2' ).options( { Big: 10, Small: 1 } );\n\t * gui.add( obj, 'prop3' );\n\t *\n\t * // danger\n\t *\n\t * const ctrl1 = gui.add( obj, 'prop1' );\n\t * gui.add( obj, 'prop2' );\n\t *\n\t * // calling options out of order adds a new controller to the end...\n\t * const ctrl2 = ctrl1.options( [ 'a', 'b', 'c' ] );\n\t *\n\t * // ...and ctrl1 now references a controller that doesn't exist\n\t * assert( ctrl2 !== ctrl1 )\n\t * @param {object|Array} options\n\t * @returns {Controller}\n\t */\n\toptions( options ) {\n\t\tconst controller = this.parent.add( this.object, this.property, options );\n\t\tcontroller.name( this._name );\n\t\tthis.destroy();\n\t\treturn controller;\n\t}\n\n\t/**\n\t * Sets the minimum value. Only works on number controllers.\n\t * @param {number} min\n\t * @returns {this}\n\t */\n\tmin( min ) {\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the maximum value. Only works on number controllers.\n\t * @param {number} max\n\t * @returns {this}\n\t */\n\tmax( max ) {\n\t\treturn this;\n\t}\n\n\t/**\n\t * Values set by this controller will be rounded to multiples of `step`. Only works on number\n\t * controllers.\n\t * @param {number} step\n\t * @returns {this}\n\t */\n\tstep( step ) {\n\t\treturn this;\n\t}\n\n\t/**\n\t * Rounds the displayed value to a fixed number of decimals, without affecting the actual value\n\t * like `step()`. Only works on number controllers.\n\t * @example\n\t * gui.add( object, 'property' ).listen().decimals( 4 );\n\t * @param {number} decimals\n\t * @returns {this}\n\t */\n\tdecimals( decimals ) {\n\t\treturn this;\n\t}\n\n\t/**\n\t * Calls `updateDisplay()` every animation frame. Pass `false` to stop listening.\n\t * @param {boolean} listen\n\t * @returns {this}\n\t */\n\tlisten( listen = true ) {\n\n\t\t/**\n\t\t * Used to determine if the controller is currently listening. Don't modify this value\n\t\t * directly. Use the `controller.listen( true|false )` method instead.\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._listening = listen;\n\n\t\tif ( this._listenCallbackID !== undefined ) {\n\t\t\tcancelAnimationFrame( this._listenCallbackID );\n\t\t\tthis._listenCallbackID = undefined;\n\t\t}\n\n\t\tif ( this._listening ) {\n\t\t\tthis._listenCallback();\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t_listenCallback() {\n\n\t\tthis._listenCallbackID = requestAnimationFrame( this._listenCallback );\n\n\t\t// To prevent framerate loss, make sure the value has changed before updating the display.\n\t\t// Note: save() is used here instead of getValue() only because of ColorController. The !== operator\n\t\t// won't work for color objects or arrays, but ColorController.save() always returns a string.\n\n\t\tconst curValue = this.save();\n\n\t\tif ( curValue !== this._listenPrevValue ) {\n\t\t\tthis.updateDisplay();\n\t\t}\n\n\t\tthis._listenPrevValue = curValue;\n\n\t}\n\n\t/**\n\t * Returns `object[ property ]`.\n\t * @returns {any}\n\t */\n\tgetValue() {\n\t\treturn this.object[ this.property ];\n\t}\n\n\t/**\n\t * Sets the value of `object[ property ]`, invokes any `onChange` handlers and updates the display.\n\t * @param {any} value\n\t * @returns {this}\n\t */\n\tsetValue( value ) {\n\n\t\tif ( this.getValue() !== value ) {\n\n\t\t\tthis.object[ this.property ] = value;\n\t\t\tthis._callOnChange();\n\t\t\tthis.updateDisplay();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Updates the display to keep it in sync with the current value. Useful for updating your\n\t * controllers when their values have been modified outside of the GUI.\n\t * @returns {this}\n\t */\n\tupdateDisplay() {\n\t\treturn this;\n\t}\n\n\tload( value ) {\n\t\tthis.setValue( value );\n\t\tthis._callOnFinishChange();\n\t\treturn this;\n\t}\n\n\tsave() {\n\t\treturn this.getValue();\n\t}\n\n\t/**\n\t * Destroys this controller and removes it from the parent GUI.\n\t */\n\tdestroy() {\n\t\tthis.listen( false );\n\t\tthis.parent.children.splice( this.parent.children.indexOf( this ), 1 );\n\t\tthis.parent.controllers.splice( this.parent.controllers.indexOf( this ), 1 );\n\t\tthis.parent.$children.removeChild( this.domElement );\n\t}\n\n}\n\nclass BooleanController extends Controller {\n\n\tconstructor( parent, object, property ) {\n\n\t\tsuper( parent, object, property, 'lil-boolean', 'label' );\n\n\t\tthis.$input = document.createElement( 'input' );\n\t\tthis.$input.setAttribute( 'type', 'checkbox' );\n\t\tthis.$input.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$widget.appendChild( this.$input );\n\n\t\tthis.$input.addEventListener( 'change', () => {\n\t\t\tthis.setValue( this.$input.checked );\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$disable = this.$input;\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\tupdateDisplay() {\n\t\tthis.$input.checked = this.getValue();\n\t\treturn this;\n\t}\n\n}\n\nfunction normalizeColorString( string ) {\n\n\tlet match, result;\n\n\tif ( match = string.match( /(#|0x)?([a-f0-9]{6})/i ) ) {\n\n\t\tresult = match[ 2 ];\n\n\t} else if ( match = string.match( /rgb\\(\\s*(\\d*)\\s*,\\s*(\\d*)\\s*,\\s*(\\d*)\\s*\\)/ ) ) {\n\n\t\tresult = parseInt( match[ 1 ] ).toString( 16 ).padStart( 2, 0 )\n\t\t\t+ parseInt( match[ 2 ] ).toString( 16 ).padStart( 2, 0 )\n\t\t\t+ parseInt( match[ 3 ] ).toString( 16 ).padStart( 2, 0 );\n\n\t} else if ( match = string.match( /^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i ) ) {\n\n\t\tresult = match[ 1 ] + match[ 1 ] + match[ 2 ] + match[ 2 ] + match[ 3 ] + match[ 3 ];\n\n\t}\n\n\tif ( result ) {\n\t\treturn '#' + result;\n\t}\n\n\treturn false;\n\n}\n\nconst STRING = {\n\tisPrimitive: true,\n\tmatch: v => typeof v === 'string',\n\tfromHexString: normalizeColorString,\n\ttoHexString: normalizeColorString\n};\n\nconst INT = {\n\tisPrimitive: true,\n\tmatch: v => typeof v === 'number',\n\tfromHexString: string => parseInt( string.substring( 1 ), 16 ),\n\ttoHexString: value => '#' + value.toString( 16 ).padStart( 6, 0 )\n};\n\nconst ARRAY = {\n\tisPrimitive: false,\n\tmatch: v => Array.isArray( v ) || ArrayBuffer.isView( v ),\n\tfromHexString( string, target, rgbScale = 1 ) {\n\n\t\tconst int = INT.fromHexString( string );\n\n\t\ttarget[ 0 ] = ( int >> 16 & 255 ) / 255 * rgbScale;\n\t\ttarget[ 1 ] = ( int >> 8 & 255 ) / 255 * rgbScale;\n\t\ttarget[ 2 ] = ( int & 255 ) / 255 * rgbScale;\n\n\t},\n\ttoHexString( [ r, g, b ], rgbScale = 1 ) {\n\n\t\trgbScale = 255 / rgbScale;\n\n\t\tconst int = r * rgbScale << 16 ^\n\t\t\t g * rgbScale << 8 ^\n\t\t\t b * rgbScale << 0;\n\n\t\treturn INT.toHexString( int );\n\n\t}\n};\n\nconst OBJECT = {\n\tisPrimitive: false,\n\tmatch: v => Object( v ) === v,\n\tfromHexString( string, target, rgbScale = 1 ) {\n\n\t\tconst int = INT.fromHexString( string );\n\n\t\ttarget.r = ( int >> 16 & 255 ) / 255 * rgbScale;\n\t\ttarget.g = ( int >> 8 & 255 ) / 255 * rgbScale;\n\t\ttarget.b = ( int & 255 ) / 255 * rgbScale;\n\n\t},\n\ttoHexString( { r, g, b }, rgbScale = 1 ) {\n\n\t\trgbScale = 255 / rgbScale;\n\n\t\tconst int = r * rgbScale << 16 ^\n\t\t\t g * rgbScale << 8 ^\n\t\t\t b * rgbScale << 0;\n\n\t\treturn INT.toHexString( int );\n\n\t}\n};\n\nconst FORMATS = [ STRING, INT, ARRAY, OBJECT ];\n\nfunction getColorFormat( value ) {\n\treturn FORMATS.find( format => format.match( value ) );\n}\n\nclass ColorController extends Controller {\n\n\tconstructor( parent, object, property, rgbScale ) {\n\n\t\tsuper( parent, object, property, 'lil-color' );\n\n\t\tthis.$input = document.createElement( 'input' );\n\t\tthis.$input.setAttribute( 'type', 'color' );\n\t\tthis.$input.setAttribute( 'tabindex', -1 );\n\t\tthis.$input.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$text = document.createElement( 'input' );\n\t\tthis.$text.setAttribute( 'type', 'text' );\n\t\tthis.$text.setAttribute( 'spellcheck', 'false' );\n\t\tthis.$text.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$display = document.createElement( 'div' );\n\t\tthis.$display.classList.add( 'lil-display' );\n\n\t\tthis.$display.appendChild( this.$input );\n\t\tthis.$widget.appendChild( this.$display );\n\t\tthis.$widget.appendChild( this.$text );\n\n\t\tthis._format = getColorFormat( this.initialValue );\n\t\tthis._rgbScale = rgbScale;\n\n\t\tthis._initialValueHexString = this.save();\n\t\tthis._textFocused = false;\n\n\t\tthis.$input.addEventListener( 'input', () => {\n\t\t\tthis._setValueFromHexString( this.$input.value );\n\t\t} );\n\n\t\tthis.$input.addEventListener( 'blur', () => {\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$text.addEventListener( 'input', () => {\n\t\t\tconst tryParse = normalizeColorString( this.$text.value );\n\t\t\tif ( tryParse ) {\n\t\t\t\tthis._setValueFromHexString( tryParse );\n\t\t\t}\n\t\t} );\n\n\t\tthis.$text.addEventListener( 'focus', () => {\n\t\t\tthis._textFocused = true;\n\t\t\tthis.$text.select();\n\t\t} );\n\n\t\tthis.$text.addEventListener( 'blur', () => {\n\t\t\tthis._textFocused = false;\n\t\t\tthis.updateDisplay();\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$disable = this.$text;\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\treset() {\n\t\tthis._setValueFromHexString( this._initialValueHexString );\n\t\treturn this;\n\t}\n\n\t_setValueFromHexString( value ) {\n\n\t\tif ( this._format.isPrimitive ) {\n\n\t\t\tconst newValue = this._format.fromHexString( value );\n\t\t\tthis.setValue( newValue );\n\n\t\t} else {\n\n\t\t\tthis._format.fromHexString( value, this.getValue(), this._rgbScale );\n\t\t\tthis._callOnChange();\n\t\t\tthis.updateDisplay();\n\n\t\t}\n\n\t}\n\n\tsave() {\n\t\treturn this._format.toHexString( this.getValue(), this._rgbScale );\n\t}\n\n\tload( value ) {\n\t\tthis._setValueFromHexString( value );\n\t\tthis._callOnFinishChange();\n\t\treturn this;\n\t}\n\n\tupdateDisplay() {\n\t\tthis.$input.value = this._format.toHexString( this.getValue(), this._rgbScale );\n\t\tif ( !this._textFocused ) {\n\t\t\tthis.$text.value = this.$input.value.substring( 1 );\n\t\t}\n\t\tthis.$display.style.backgroundColor = this.$input.value;\n\t\treturn this;\n\t}\n\n}\n\nclass FunctionController extends Controller {\n\n\tconstructor( parent, object, property ) {\n\n\t\tsuper( parent, object, property, 'lil-function' );\n\n\t\t// Buttons are the only case where widget contains name\n\t\tthis.$button = document.createElement( 'button' );\n\t\tthis.$button.appendChild( this.$name );\n\t\tthis.$widget.appendChild( this.$button );\n\n\t\tthis.$button.addEventListener( 'click', e => {\n\t\t\te.preventDefault();\n\t\t\tthis.getValue().call( this.object );\n\t\t\tthis._callOnChange();\n\t\t} );\n\n\t\t// enables :active pseudo class on mobile\n\t\tthis.$button.addEventListener( 'touchstart', () => {}, { passive: true } );\n\n\t\tthis.$disable = this.$button;\n\n\t}\n\n}\n\nclass NumberController extends Controller {\n\n\tconstructor( parent, object, property, min, max, step ) {\n\n\t\tsuper( parent, object, property, 'lil-number' );\n\n\t\tthis._initInput();\n\n\t\tthis.min( min );\n\t\tthis.max( max );\n\n\t\tconst stepExplicit = step !== undefined;\n\t\tthis.step( stepExplicit ? step : this._getImplicitStep(), stepExplicit );\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\tdecimals( decimals ) {\n\t\tthis._decimals = decimals;\n\t\tthis.updateDisplay();\n\t\treturn this;\n\t}\n\n\tmin( min ) {\n\t\tthis._min = min;\n\t\tthis._onUpdateMinMax();\n\t\treturn this;\n\t}\n\n\tmax( max ) {\n\t\tthis._max = max;\n\t\tthis._onUpdateMinMax();\n\t\treturn this;\n\t}\n\n\tstep( step, explicit = true ) {\n\t\tthis._step = step;\n\t\tthis._stepExplicit = explicit;\n\t\treturn this;\n\t}\n\n\tupdateDisplay() {\n\n\t\tconst value = this.getValue();\n\n\t\tif ( this._hasSlider ) {\n\n\t\t\tlet percent = ( value - this._min ) / ( this._max - this._min );\n\t\t\tpercent = Math.max( 0, Math.min( percent, 1 ) );\n\n\t\t\tthis.$fill.style.width = percent * 100 + '%';\n\n\t\t}\n\n\t\tif ( !this._inputFocused ) {\n\t\t\tthis.$input.value = this._decimals === undefined ? value : value.toFixed( this._decimals );\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t_initInput() {\n\n\t\tthis.$input = document.createElement( 'input' );\n\t\tthis.$input.setAttribute( 'type', 'text' );\n\t\tthis.$input.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\t// On touch devices only, use input[type=number] to force a numeric keyboard.\n\t\t// Ideally we could use one input type everywhere, but [type=number] has quirks\n\t\t// on desktop, and [inputmode=decimal] has quirks on iOS.\n\t\t// See https://github.com/georgealways/lil-gui/pull/16\n\n\t\tconst isTouch = window.matchMedia( '(pointer: coarse)' ).matches;\n\n\t\tif ( isTouch ) {\n\t\t\tthis.$input.setAttribute( 'type', 'number' );\n\t\t\tthis.$input.setAttribute( 'step', 'any' );\n\t\t}\n\n\t\tthis.$widget.appendChild( this.$input );\n\n\t\tthis.$disable = this.$input;\n\n\t\tconst onInput = () => {\n\n\t\t\tlet value = parseFloat( this.$input.value );\n\n\t\t\tif ( isNaN( value ) ) return;\n\n\t\t\tif ( this._stepExplicit ) {\n\t\t\t\tvalue = this._snap( value );\n\t\t\t}\n\n\t\t\tthis.setValue( this._clamp( value ) );\n\n\t\t};\n\n\t\t// Keys & mouse wheel\n\t\t// ---------------------------------------------------------------------\n\n\t\tconst increment = delta => {\n\n\t\t\tconst value = parseFloat( this.$input.value );\n\n\t\t\tif ( isNaN( value ) ) return;\n\n\t\t\tthis._snapClampSetValue( value + delta );\n\n\t\t\t// Force the input to updateDisplay when it's focused\n\t\t\tthis.$input.value = this.getValue();\n\n\t\t};\n\n\t\tconst onKeyDown = e => {\n\t\t\t// Using `e.key` instead of `e.code` also catches NumpadEnter\n\t\t\tif ( e.key === 'Enter' ) {\n\t\t\t\tthis.$input.blur();\n\t\t\t}\n\t\t\tif ( e.code === 'ArrowUp' ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tincrement( this._step * this._arrowKeyMultiplier( e ) );\n\t\t\t}\n\t\t\tif ( e.code === 'ArrowDown' ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tincrement( this._step * this._arrowKeyMultiplier( e ) * -1 );\n\t\t\t}\n\t\t};\n\n\t\tconst onWheel = e => {\n\t\t\tif ( this._inputFocused ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tincrement( this._step * this._normalizeMouseWheel( e ) );\n\t\t\t}\n\t\t};\n\n\t\t// Vertical drag\n\t\t// ---------------------------------------------------------------------\n\n\t\tlet testingForVerticalDrag = false,\n\t\t\tinitClientX,\n\t\t\tinitClientY,\n\t\t\tprevClientY,\n\t\t\tinitValue,\n\t\t\tdragDelta;\n\n\t\t// Once the mouse is dragged more than DRAG_THRESH px on any axis, we decide\n\t\t// on the user's intent: horizontal means highlight, vertical means drag.\n\t\tconst DRAG_THRESH = 5;\n\n\t\tconst onMouseDown = e => {\n\n\t\t\tinitClientX = e.clientX;\n\t\t\tinitClientY = prevClientY = e.clientY;\n\t\t\ttestingForVerticalDrag = true;\n\n\t\t\tinitValue = this.getValue();\n\t\t\tdragDelta = 0;\n\n\t\t\twindow.addEventListener( 'mousemove', onMouseMove );\n\t\t\twindow.addEventListener( 'mouseup', onMouseUp );\n\n\t\t};\n\n\t\tconst onMouseMove = e => {\n\n\t\t\tif ( testingForVerticalDrag ) {\n\n\t\t\t\tconst dx = e.clientX - initClientX;\n\t\t\t\tconst dy = e.clientY - initClientY;\n\n\t\t\t\tif ( Math.abs( dy ) > DRAG_THRESH ) {\n\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis.$input.blur();\n\t\t\t\t\ttestingForVerticalDrag = false;\n\t\t\t\t\tthis._setDraggingStyle( true, 'vertical' );\n\n\t\t\t\t} else if ( Math.abs( dx ) > DRAG_THRESH ) {\n\n\t\t\t\t\tonMouseUp();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// This isn't an else so that the first move counts towards dragDelta\n\t\t\tif ( !testingForVerticalDrag ) {\n\n\t\t\t\tconst dy = e.clientY - prevClientY;\n\n\t\t\t\tdragDelta -= dy * this._step * this._arrowKeyMultiplier( e );\n\n\t\t\t\t// Clamp dragDelta so we don't have 'dead space' after dragging past bounds.\n\t\t\t\t// We're okay with the fact that bounds can be undefined here.\n\t\t\t\tif ( initValue + dragDelta > this._max ) {\n\t\t\t\t\tdragDelta = this._max - initValue;\n\t\t\t\t} else if ( initValue + dragDelta < this._min ) {\n\t\t\t\t\tdragDelta = this._min - initValue;\n\t\t\t\t}\n\n\t\t\t\tthis._snapClampSetValue( initValue + dragDelta );\n\n\t\t\t}\n\n\t\t\tprevClientY = e.clientY;\n\n\t\t};\n\n\t\tconst onMouseUp = () => {\n\t\t\tthis._setDraggingStyle( false, 'vertical' );\n\t\t\tthis._callOnFinishChange();\n\t\t\twindow.removeEventListener( 'mousemove', onMouseMove );\n\t\t\twindow.removeEventListener( 'mouseup', onMouseUp );\n\t\t};\n\n\t\t// Focus state & onFinishChange\n\t\t// ---------------------------------------------------------------------\n\n\t\tconst onFocus = () => {\n\t\t\tthis._inputFocused = true;\n\t\t};\n\n\t\tconst onBlur = () => {\n\t\t\tthis._inputFocused = false;\n\t\t\tthis.updateDisplay();\n\t\t\tthis._callOnFinishChange();\n\t\t};\n\n\t\tthis.$input.addEventListener( 'input', onInput );\n\t\tthis.$input.addEventListener( 'keydown', onKeyDown );\n\t\tthis.$input.addEventListener( 'wheel', onWheel, { passive: false } );\n\t\tthis.$input.addEventListener( 'mousedown', onMouseDown );\n\t\tthis.$input.addEventListener( 'focus', onFocus );\n\t\tthis.$input.addEventListener( 'blur', onBlur );\n\n\t}\n\n\t_initSlider() {\n\n\t\tthis._hasSlider = true;\n\n\t\t// Build DOM\n\t\t// ---------------------------------------------------------------------\n\n\t\tthis.$slider = document.createElement( 'div' );\n\t\tthis.$slider.classList.add( 'lil-slider' );\n\n\t\tthis.$fill = document.createElement( 'div' );\n\t\tthis.$fill.classList.add( 'lil-fill' );\n\n\t\tthis.$slider.appendChild( this.$fill );\n\t\tthis.$widget.insertBefore( this.$slider, this.$input );\n\n\t\tthis.domElement.classList.add( 'lil-has-slider' );\n\n\t\t// Map clientX to value\n\t\t// ---------------------------------------------------------------------\n\n\t\tconst map = ( v, a, b, c, d ) => {\n\t\t\treturn ( v - a ) / ( b - a ) * ( d - c ) + c;\n\t\t};\n\n\t\tconst setValueFromX = clientX => {\n\t\t\tconst rect = this.$slider.getBoundingClientRect();\n\t\t\tlet value = map( clientX, rect.left, rect.right, this._min, this._max );\n\t\t\tthis._snapClampSetValue( value );\n\t\t};\n\n\t\t// Mouse drag\n\t\t// ---------------------------------------------------------------------\n\n\t\tconst mouseDown = e => {\n\t\t\tthis._setDraggingStyle( true );\n\t\t\tsetValueFromX( e.clientX );\n\t\t\twindow.addEventListener( 'mousemove', mouseMove );\n\t\t\twindow.addEventListener( 'mouseup', mouseUp );\n\t\t};\n\n\t\tconst mouseMove = e => {\n\t\t\tsetValueFromX( e.clientX );\n\t\t};\n\n\t\tconst mouseUp = () => {\n\t\t\tthis._callOnFinishChange();\n\t\t\tthis._setDraggingStyle( false );\n\t\t\twindow.removeEventListener( 'mousemove', mouseMove );\n\t\t\twindow.removeEventListener( 'mouseup', mouseUp );\n\t\t};\n\n\t\t// Touch drag\n\t\t// ---------------------------------------------------------------------\n\n\t\tlet testingForScroll = false, prevClientX, prevClientY;\n\n\t\tconst beginTouchDrag = e => {\n\t\t\te.preventDefault();\n\t\t\tthis._setDraggingStyle( true );\n\t\t\tsetValueFromX( e.touches[ 0 ].clientX );\n\t\t\ttestingForScroll = false;\n\t\t};\n\n\t\tconst onTouchStart = e => {\n\n\t\t\tif ( e.touches.length > 1 ) return;\n\n\t\t\t// If we're in a scrollable container, we should wait for the first\n\t\t\t// touchmove to see if the user is trying to slide or scroll.\n\t\t\tif ( this._hasScrollBar ) {\n\n\t\t\t\tprevClientX = e.touches[ 0 ].clientX;\n\t\t\t\tprevClientY = e.touches[ 0 ].clientY;\n\t\t\t\ttestingForScroll = true;\n\n\t\t\t} else {\n\n\t\t\t\t// Otherwise, we can set the value straight away on touchstart.\n\t\t\t\tbeginTouchDrag( e );\n\n\t\t\t}\n\n\t\t\twindow.addEventListener( 'touchmove', onTouchMove, { passive: false } );\n\t\t\twindow.addEventListener( 'touchend', onTouchEnd );\n\n\t\t};\n\n\t\tconst onTouchMove = e => {\n\n\t\t\tif ( testingForScroll ) {\n\n\t\t\t\tconst dx = e.touches[ 0 ].clientX - prevClientX;\n\t\t\t\tconst dy = e.touches[ 0 ].clientY - prevClientY;\n\n\t\t\t\tif ( Math.abs( dx ) > Math.abs( dy ) ) {\n\n\t\t\t\t\t// We moved horizontally, set the value and stop checking.\n\t\t\t\t\tbeginTouchDrag( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// This was, in fact, an attempt to scroll. Abort.\n\t\t\t\t\twindow.removeEventListener( 'touchmove', onTouchMove );\n\t\t\t\t\twindow.removeEventListener( 'touchend', onTouchEnd );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\te.preventDefault();\n\t\t\t\tsetValueFromX( e.touches[ 0 ].clientX );\n\n\t\t\t}\n\n\t\t};\n\n\t\tconst onTouchEnd = () => {\n\t\t\tthis._callOnFinishChange();\n\t\t\tthis._setDraggingStyle( false );\n\t\t\twindow.removeEventListener( 'touchmove', onTouchMove );\n\t\t\twindow.removeEventListener( 'touchend', onTouchEnd );\n\t\t};\n\n\t\t// Mouse wheel\n\t\t// ---------------------------------------------------------------------\n\n\t\t// We have to use a debounced function to call onFinishChange because\n\t\t// there's no way to tell when the user is \"done\" mouse-wheeling.\n\t\tconst callOnFinishChange = this._callOnFinishChange.bind( this );\n\t\tconst WHEEL_DEBOUNCE_TIME = 400;\n\t\tlet wheelFinishChangeTimeout;\n\n\t\tconst onWheel = e => {\n\n\t\t\t// ignore vertical wheels if there's a scrollbar\n\t\t\tconst isVertical = Math.abs( e.deltaX ) < Math.abs( e.deltaY );\n\t\t\tif ( isVertical && this._hasScrollBar ) return;\n\n\t\t\te.preventDefault();\n\n\t\t\t// set value\n\t\t\tconst delta = this._normalizeMouseWheel( e ) * this._step;\n\t\t\tthis._snapClampSetValue( this.getValue() + delta );\n\n\t\t\t// force the input to updateDisplay when it's focused\n\t\t\tthis.$input.value = this.getValue();\n\n\t\t\t// debounce onFinishChange\n\t\t\tclearTimeout( wheelFinishChangeTimeout );\n\t\t\twheelFinishChangeTimeout = setTimeout( callOnFinishChange, WHEEL_DEBOUNCE_TIME );\n\n\t\t};\n\n\t\tthis.$slider.addEventListener( 'mousedown', mouseDown );\n\t\tthis.$slider.addEventListener( 'touchstart', onTouchStart, { passive: false } );\n\t\tthis.$slider.addEventListener( 'wheel', onWheel, { passive: false } );\n\n\t}\n\n\t_setDraggingStyle( active, axis = 'horizontal' ) {\n\t\tif ( this.$slider ) {\n\t\t\tthis.$slider.classList.toggle( 'lil-active', active );\n\t\t}\n\t\tdocument.body.classList.toggle( 'lil-dragging', active );\n\t\tdocument.body.classList.toggle( `lil-${axis}`, active );\n\t}\n\n\t_getImplicitStep() {\n\n\t\tif ( this._hasMin && this._hasMax ) {\n\t\t\treturn ( this._max - this._min ) / 1000;\n\t\t}\n\n\t\treturn 0.1;\n\n\t}\n\n\t_onUpdateMinMax() {\n\n\t\tif ( !this._hasSlider && this._hasMin && this._hasMax ) {\n\n\t\t\t// If this is the first time we're hearing about min and max\n\t\t\t// and we haven't explicitly stated what our step is, let's\n\t\t\t// update that too.\n\t\t\tif ( !this._stepExplicit ) {\n\t\t\t\tthis.step( this._getImplicitStep(), false );\n\t\t\t}\n\n\t\t\tthis._initSlider();\n\t\t\tthis.updateDisplay();\n\n\t\t}\n\n\t}\n\n\t_normalizeMouseWheel( e ) {\n\n\t\tlet { deltaX, deltaY } = e;\n\n\t\t// Safari and Chrome report weird non-integral values for a notched wheel,\n\t\t// but still expose actual lines scrolled via wheelDelta. Notched wheels\n\t\t// should behave the same way as arrow keys.\n\t\tif ( Math.floor( e.deltaY ) !== e.deltaY && e.wheelDelta ) {\n\t\t\tdeltaX = 0;\n\t\t\tdeltaY = -e.wheelDelta / 120;\n\t\t\tdeltaY *= this._stepExplicit ? 1 : 10;\n\t\t}\n\n\t\tconst wheel = deltaX + -deltaY;\n\n\t\treturn wheel;\n\n\t}\n\n\t_arrowKeyMultiplier( e ) {\n\n\t\tlet mult = this._stepExplicit ? 1 : 10;\n\n\t\tif ( e.shiftKey ) {\n\t\t\tmult *= 10;\n\t\t} else if ( e.altKey ) {\n\t\t\tmult /= 10;\n\t\t}\n\n\t\treturn mult;\n\n\t}\n\n\t_snap( value ) {\n\n\t\t// Make the steps \"start\" at min or max.\n\t\tlet offset = 0;\n\t\tif ( this._hasMin ) {\n\t\t\toffset = this._min;\n\t\t} else if ( this._hasMax ) {\n\t\t\toffset = this._max;\n\t\t}\n\n\t\tvalue -= offset;\n\n\t\tvalue = Math.round( value / this._step ) * this._step;\n\n\t\tvalue += offset;\n\n\t\t// Used to prevent \"flyaway\" decimals like 1.00000000000001\n\t\tvalue = parseFloat( value.toPrecision( 15 ) );\n\n\t\treturn value;\n\n\t}\n\n\t_clamp( value ) {\n\t\t// either condition is false if min or max is undefined\n\t\tif ( value < this._min ) value = this._min;\n\t\tif ( value > this._max ) value = this._max;\n\t\treturn value;\n\t}\n\n\t_snapClampSetValue( value ) {\n\t\tthis.setValue( this._clamp( this._snap( value ) ) );\n\t}\n\n\tget _hasScrollBar() {\n\t\tconst root = this.parent.root.$children;\n\t\treturn root.scrollHeight > root.clientHeight;\n\t}\n\n\tget _hasMin() {\n\t\treturn this._min !== undefined;\n\t}\n\n\tget _hasMax() {\n\t\treturn this._max !== undefined;\n\t}\n\n}\n\nclass OptionController extends Controller {\n\n\tconstructor( parent, object, property, options ) {\n\n\t\tsuper( parent, object, property, 'lil-option' );\n\n\t\tthis.$select = document.createElement( 'select' );\n\t\tthis.$select.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$display = document.createElement( 'div' );\n\t\tthis.$display.classList.add( 'lil-display' );\n\n\t\tthis.$select.addEventListener( 'change', () => {\n\t\t\tthis.setValue( this._values[ this.$select.selectedIndex ] );\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$select.addEventListener( 'focus', () => {\n\t\t\tthis.$display.classList.add( 'lil-focus' );\n\t\t} );\n\n\t\tthis.$select.addEventListener( 'blur', () => {\n\t\t\tthis.$display.classList.remove( 'lil-focus' );\n\t\t} );\n\n\t\tthis.$widget.appendChild( this.$select );\n\t\tthis.$widget.appendChild( this.$display );\n\n\t\tthis.$disable = this.$select;\n\n\t\tthis.options( options );\n\n\t}\n\n\toptions( options ) {\n\n\t\tthis._values = Array.isArray( options ) ? options : Object.values( options );\n\t\tthis._names = Array.isArray( options ) ? options : Object.keys( options );\n\n\t\tthis.$select.replaceChildren();\n\n\t\tthis._names.forEach( name => {\n\t\t\tconst $option = document.createElement( 'option' );\n\t\t\t$option.textContent = name;\n\t\t\tthis.$select.appendChild( $option );\n\t\t} );\n\n\t\tthis.updateDisplay();\n\n\t\treturn this;\n\n\t}\n\n\tupdateDisplay() {\n\t\tconst value = this.getValue();\n\t\tconst index = this._values.indexOf( value );\n\t\tthis.$select.selectedIndex = index;\n\t\tthis.$display.textContent = index === -1 ? value : this._names[ index ];\n\t\treturn this;\n\t}\n\n}\n\nclass StringController extends Controller {\n\n\tconstructor( parent, object, property ) {\n\n\t\tsuper( parent, object, property, 'lil-string' );\n\n\t\tthis.$input = document.createElement( 'input' );\n\t\tthis.$input.setAttribute( 'type', 'text' );\n\t\tthis.$input.setAttribute( 'spellcheck', 'false' );\n\t\tthis.$input.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$input.addEventListener( 'input', () => {\n\t\t\tthis.setValue( this.$input.value );\n\t\t} );\n\n\t\tthis.$input.addEventListener( 'keydown', e => {\n\t\t\tif ( e.code === 'Enter' ) {\n\t\t\t\tthis.$input.blur();\n\t\t\t}\n\t\t} );\n\n\t\tthis.$input.addEventListener( 'blur', () => {\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$widget.appendChild( this.$input );\n\n\t\tthis.$disable = this.$input;\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\tupdateDisplay() {\n\t\tthis.$input.value = this.getValue();\n\t\treturn this;\n\t}\n\n}\n\nvar stylesheet = `.lil-gui {\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  line-height: 1;\n  font-weight: normal;\n  font-style: normal;\n  text-align: left;\n  color: var(--text-color);\n  user-select: none;\n  -webkit-user-select: none;\n  touch-action: manipulation;\n  --background-color: #1f1f1f;\n  --text-color: #ebebeb;\n  --title-background-color: #111111;\n  --title-text-color: #ebebeb;\n  --widget-color: #424242;\n  --hover-color: #4f4f4f;\n  --focus-color: #595959;\n  --number-color: #2cc9ff;\n  --string-color: #a2db3c;\n  --font-size: 11px;\n  --input-font-size: 11px;\n  --font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Arial, sans-serif;\n  --font-family-mono: Menlo, Monaco, Consolas, \"Droid Sans Mono\", monospace;\n  --padding: 4px;\n  --spacing: 4px;\n  --widget-height: 20px;\n  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);\n  --name-width: 45%;\n  --slider-knob-width: 2px;\n  --slider-input-width: 27%;\n  --color-input-width: 27%;\n  --slider-input-min-width: 45px;\n  --color-input-min-width: 45px;\n  --folder-indent: 7px;\n  --widget-padding: 0 0 0 3px;\n  --widget-border-radius: 2px;\n  --checkbox-size: calc(0.75 * var(--widget-height));\n  --scrollbar-width: 5px;\n}\n.lil-gui, .lil-gui * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n.lil-gui.lil-root {\n  width: var(--width, 245px);\n  display: flex;\n  flex-direction: column;\n  background: var(--background-color);\n}\n.lil-gui.lil-root > .lil-title {\n  background: var(--title-background-color);\n  color: var(--title-text-color);\n}\n.lil-gui.lil-root > .lil-children {\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.lil-gui.lil-root > .lil-children::-webkit-scrollbar {\n  width: var(--scrollbar-width);\n  height: var(--scrollbar-width);\n  background: var(--background-color);\n}\n.lil-gui.lil-root > .lil-children::-webkit-scrollbar-thumb {\n  border-radius: var(--scrollbar-width);\n  background: var(--focus-color);\n}\n@media (pointer: coarse) {\n  .lil-gui.lil-allow-touch-styles, .lil-gui.lil-allow-touch-styles .lil-gui {\n    --widget-height: 28px;\n    --padding: 6px;\n    --spacing: 6px;\n    --font-size: 13px;\n    --input-font-size: 16px;\n    --folder-indent: 10px;\n    --scrollbar-width: 7px;\n    --slider-input-min-width: 50px;\n    --color-input-min-width: 65px;\n  }\n}\n.lil-gui.lil-force-touch-styles, .lil-gui.lil-force-touch-styles .lil-gui {\n  --widget-height: 28px;\n  --padding: 6px;\n  --spacing: 6px;\n  --font-size: 13px;\n  --input-font-size: 16px;\n  --folder-indent: 10px;\n  --scrollbar-width: 7px;\n  --slider-input-min-width: 50px;\n  --color-input-min-width: 65px;\n}\n.lil-gui.lil-auto-place, .lil-gui.autoPlace {\n  max-height: 100%;\n  position: fixed;\n  top: 0;\n  right: 15px;\n  z-index: 1001;\n}\n\n.lil-controller {\n  display: flex;\n  align-items: center;\n  padding: 0 var(--padding);\n  margin: var(--spacing) 0;\n}\n.lil-controller.lil-disabled {\n  opacity: 0.5;\n}\n.lil-controller.lil-disabled, .lil-controller.lil-disabled * {\n  pointer-events: none !important;\n}\n.lil-controller > .lil-name {\n  min-width: var(--name-width);\n  flex-shrink: 0;\n  white-space: pre;\n  padding-right: var(--spacing);\n  line-height: var(--widget-height);\n}\n.lil-controller .lil-widget {\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  min-height: var(--widget-height);\n}\n.lil-controller.lil-string input {\n  color: var(--string-color);\n}\n.lil-controller.lil-boolean {\n  cursor: pointer;\n}\n.lil-controller.lil-color .lil-display {\n  width: 100%;\n  height: var(--widget-height);\n  border-radius: var(--widget-border-radius);\n  position: relative;\n}\n@media (hover: hover) {\n  .lil-controller.lil-color .lil-display:hover:before {\n    content: \" \";\n    display: block;\n    position: absolute;\n    border-radius: var(--widget-border-radius);\n    border: 1px solid #fff9;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n}\n.lil-controller.lil-color input[type=color] {\n  opacity: 0;\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n}\n.lil-controller.lil-color input[type=text] {\n  margin-left: var(--spacing);\n  font-family: var(--font-family-mono);\n  min-width: var(--color-input-min-width);\n  width: var(--color-input-width);\n  flex-shrink: 0;\n}\n.lil-controller.lil-option select {\n  opacity: 0;\n  position: absolute;\n  width: 100%;\n  max-width: 100%;\n}\n.lil-controller.lil-option .lil-display {\n  position: relative;\n  pointer-events: none;\n  border-radius: var(--widget-border-radius);\n  height: var(--widget-height);\n  line-height: var(--widget-height);\n  max-width: 100%;\n  overflow: hidden;\n  word-break: break-all;\n  padding-left: 0.55em;\n  padding-right: 1.75em;\n  background: var(--widget-color);\n}\n@media (hover: hover) {\n  .lil-controller.lil-option .lil-display.lil-focus {\n    background: var(--focus-color);\n  }\n}\n.lil-controller.lil-option .lil-display.lil-active {\n  background: var(--focus-color);\n}\n.lil-controller.lil-option .lil-display:after {\n  font-family: \"lil-gui\";\n  content: \"\";\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  padding-right: 0.375em;\n}\n.lil-controller.lil-option .lil-widget,\n.lil-controller.lil-option select {\n  cursor: pointer;\n}\n@media (hover: hover) {\n  .lil-controller.lil-option .lil-widget:hover .lil-display {\n    background: var(--hover-color);\n  }\n}\n.lil-controller.lil-number input {\n  color: var(--number-color);\n}\n.lil-controller.lil-number.lil-has-slider input {\n  margin-left: var(--spacing);\n  width: var(--slider-input-width);\n  min-width: var(--slider-input-min-width);\n  flex-shrink: 0;\n}\n.lil-controller.lil-number .lil-slider {\n  width: 100%;\n  height: var(--widget-height);\n  background: var(--widget-color);\n  border-radius: var(--widget-border-radius);\n  padding-right: var(--slider-knob-width);\n  overflow: hidden;\n  cursor: ew-resize;\n  touch-action: pan-y;\n}\n@media (hover: hover) {\n  .lil-controller.lil-number .lil-slider:hover {\n    background: var(--hover-color);\n  }\n}\n.lil-controller.lil-number .lil-slider.lil-active {\n  background: var(--focus-color);\n}\n.lil-controller.lil-number .lil-slider.lil-active .lil-fill {\n  opacity: 0.95;\n}\n.lil-controller.lil-number .lil-fill {\n  height: 100%;\n  border-right: var(--slider-knob-width) solid var(--number-color);\n  box-sizing: content-box;\n}\n\n.lil-dragging .lil-gui {\n  --hover-color: var(--widget-color);\n}\n.lil-dragging * {\n  cursor: ew-resize !important;\n}\n.lil-dragging.lil-vertical * {\n  cursor: ns-resize !important;\n}\n\n.lil-gui .lil-title {\n  height: var(--title-height);\n  font-weight: 600;\n  padding: 0 var(--padding);\n  width: 100%;\n  text-align: left;\n  background: none;\n  text-decoration-skip: objects;\n}\n.lil-gui .lil-title:before {\n  font-family: \"lil-gui\";\n  content: \"\";\n  padding-right: 2px;\n  display: inline-block;\n}\n.lil-gui .lil-title:active {\n  background: var(--title-background-color);\n  opacity: 0.75;\n}\n@media (hover: hover) {\n  body:not(.lil-dragging) .lil-gui .lil-title:hover {\n    background: var(--title-background-color);\n    opacity: 0.85;\n  }\n  .lil-gui .lil-title:focus {\n    text-decoration: underline var(--focus-color);\n  }\n}\n.lil-gui.lil-root > .lil-title:focus {\n  text-decoration: none !important;\n}\n.lil-gui.lil-closed > .lil-title:before {\n  content: \"\";\n}\n.lil-gui.lil-closed > .lil-children {\n  transform: translateY(-7px);\n  opacity: 0;\n}\n.lil-gui.lil-closed:not(.lil-transition) > .lil-children {\n  display: none;\n}\n.lil-gui.lil-transition > .lil-children {\n  transition-duration: 300ms;\n  transition-property: height, opacity, transform;\n  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);\n  overflow: hidden;\n  pointer-events: none;\n}\n.lil-gui .lil-children:empty:before {\n  content: \"Empty\";\n  padding: 0 var(--padding);\n  margin: var(--spacing) 0;\n  display: block;\n  height: var(--widget-height);\n  font-style: italic;\n  line-height: var(--widget-height);\n  opacity: 0.5;\n}\n.lil-gui.lil-root > .lil-children > .lil-gui > .lil-title {\n  border: 0 solid var(--widget-color);\n  border-width: 1px 0;\n  transition: border-color 300ms;\n}\n.lil-gui.lil-root > .lil-children > .lil-gui.lil-closed > .lil-title {\n  border-bottom-color: transparent;\n}\n.lil-gui + .lil-controller {\n  border-top: 1px solid var(--widget-color);\n  margin-top: 0;\n  padding-top: var(--spacing);\n}\n.lil-gui .lil-gui .lil-gui > .lil-title {\n  border: none;\n}\n.lil-gui .lil-gui .lil-gui > .lil-children {\n  border: none;\n  margin-left: var(--folder-indent);\n  border-left: 2px solid var(--widget-color);\n}\n.lil-gui .lil-gui .lil-controller {\n  border: none;\n}\n\n.lil-gui label, .lil-gui input, .lil-gui button {\n  -webkit-tap-highlight-color: transparent;\n}\n.lil-gui input {\n  border: 0;\n  outline: none;\n  font-family: var(--font-family);\n  font-size: var(--input-font-size);\n  border-radius: var(--widget-border-radius);\n  height: var(--widget-height);\n  background: var(--widget-color);\n  color: var(--text-color);\n  width: 100%;\n}\n@media (hover: hover) {\n  .lil-gui input:hover {\n    background: var(--hover-color);\n  }\n  .lil-gui input:active {\n    background: var(--focus-color);\n  }\n}\n.lil-gui input:disabled {\n  opacity: 1;\n}\n.lil-gui input[type=text],\n.lil-gui input[type=number] {\n  padding: var(--widget-padding);\n  -moz-appearance: textfield;\n}\n.lil-gui input[type=text]:focus,\n.lil-gui input[type=number]:focus {\n  background: var(--focus-color);\n}\n.lil-gui input[type=checkbox] {\n  appearance: none;\n  width: var(--checkbox-size);\n  height: var(--checkbox-size);\n  border-radius: var(--widget-border-radius);\n  text-align: center;\n  cursor: pointer;\n}\n.lil-gui input[type=checkbox]:checked:before {\n  font-family: \"lil-gui\";\n  content: \"\";\n  font-size: var(--checkbox-size);\n  line-height: var(--checkbox-size);\n}\n@media (hover: hover) {\n  .lil-gui input[type=checkbox]:focus {\n    box-shadow: inset 0 0 0 1px var(--focus-color);\n  }\n}\n.lil-gui button {\n  outline: none;\n  cursor: pointer;\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  color: var(--text-color);\n  width: 100%;\n  border: none;\n}\n.lil-gui .lil-controller button {\n  height: var(--widget-height);\n  text-transform: none;\n  background: var(--widget-color);\n  border-radius: var(--widget-border-radius);\n}\n@media (hover: hover) {\n  .lil-gui .lil-controller button:hover {\n    background: var(--hover-color);\n  }\n  .lil-gui .lil-controller button:focus {\n    box-shadow: inset 0 0 0 1px var(--focus-color);\n  }\n}\n.lil-gui .lil-controller button:active {\n  background: var(--focus-color);\n}\n\n@font-face {\n  font-family: \"lil-gui\";\n  src: url(\"data:application/font-woff2;charset=utf-8;base64,d09GMgABAAAAAALkAAsAAAAABtQAAAKVAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHFQGYACDMgqBBIEbATYCJAMUCwwABCAFhAoHgQQbHAbIDiUFEYVARAAAYQTVWNmz9MxhEgodq49wYRUFKE8GWNiUBxI2LBRaVnc51U83Gmhs0Q7JXWMiz5eteLwrKwuxHO8VFxUX9UpZBs6pa5ABRwHA+t3UxUnH20EvVknRerzQgX6xC/GH6ZUvTcAjAv122dF28OTqCXrPuyaDER30YBA1xnkVutDDo4oCi71Ca7rrV9xS8dZHbPHefsuwIyCpmT7j+MnjAH5X3984UZoFFuJ0yiZ4XEJFxjagEBeqs+e1iyK8Xf/nOuwF+vVK0ur765+vf7txotUi0m3N0m/84RGSrBCNrh8Ee5GjODjF4gnWP+dJrH/Lk9k4oT6d+gr6g/wssA2j64JJGP6cmx554vUZnpZfn6ZfX2bMwPPrlANsB86/DiHjhl0OP+c87+gaJo/gY084s3HoYL/ZkWHTRfBXvvoHnnkHvngKun4KBE/ede7tvq3/vQOxDXB1/fdNz6XbPdcr0Vhpojj9dG+owuSKFsslCi1tgEjirjXdwMiov2EioadxmqTHUCIwo8NgQaeIasAi0fTYSPTbSmwbMOFduyh9wvBrESGY0MtgRjtgQR8Q1bRPohn2UoCRZf9wyYANMXFeJTysqAe0I4mrherOekFdKMrYvJjLvOIUM9SuwYB5DVZUwwVjJJOaUnZCmcEkIZZrKqNvRGRMvmFZsmhP4VMKCSXBhSqUBxgMS7h0cZvEd71AWkEhGWaeMFcNnpqyJkyXgYL7PQ1MoSq0wDAkRtJIijkZSmqYTiSImfLiSWXIZwhRh3Rug2X0kk1Dgj+Iu43u5p98ghopcpSo0Uyc8SnjlYX59WUeaMoDqmVD2TOWD9a4pCRAzf2ECgwGcrHjPOWY9bNxq/OL3I/QjwEAAAA=\") format(\"woff2\");\n}`;\n\nfunction _injectStyles( cssContent ) {\n\tconst injected = document.createElement( 'style' );\n\tinjected.innerHTML = cssContent;\n\tconst before = document.querySelector( 'head link[rel=stylesheet], head style' );\n\tif ( before ) {\n\t\tdocument.head.insertBefore( injected, before );\n\t} else {\n\t\tdocument.head.appendChild( injected );\n\t}\n}\n\n\nlet stylesInjected = false;\n\nclass GUI {\n\n\t/**\n\t * Creates a panel that holds controllers.\n\t * @example\n\t * new GUI();\n\t * new GUI( { container: document.getElementById( 'custom' ) } );\n\t *\n\t * @param {object} [options]\n\t * @param {boolean} [options.autoPlace=true]\n\t * Adds the GUI to `document.body` and fixes it to the top right of the page.\n\t *\n\t * @param {Node} [options.container]\n\t * Adds the GUI to this DOM element. Overrides `autoPlace`.\n\t *\n\t * @param {number} [options.width=245]\n\t * Width of the GUI in pixels, usually set when name labels become too long. Note that you can make\n\t * name labels wider in CSS with `.lilgui { namewidth: 55% }`.\n\t *\n\t * @param {string} [options.title=Controls]\n\t * Name to display in the title bar.\n\t *\n\t * @param {boolean} [options.closeFolders=false]\n\t * Pass `true` to close all folders in this GUI by default.\n\t *\n\t * @param {boolean} [options.injectStyles=true]\n\t * Injects the default stylesheet into the page if this is the first GUI.\n\t * Pass `false` to use your own stylesheet.\n\t *\n\t * @param {number} [options.touchStyles=true]\n\t * Makes controllers larger on touch devices. Pass `false` to disable touch styles.\n\t *\n\t * @param {GUI} [options.parent]\n\t * Adds this GUI as a child in another GUI. Usually this is done for you by `addFolder()`.\n\t */\n\tconstructor( {\n\t\tparent,\n\t\tautoPlace = parent === undefined,\n\t\tcontainer,\n\t\twidth,\n\t\ttitle = 'Controls',\n\t\tcloseFolders = false,\n\t\tinjectStyles = true,\n\t\ttouchStyles = true\n\t} = {} ) {\n\n\t\t/**\n\t\t * The GUI containing this folder, or `undefined` if this is the root GUI.\n\t\t * @type {GUI}\n\t\t */\n\t\tthis.parent = parent;\n\n\t\t/**\n\t\t * The top level GUI containing this folder, or `this` if this is the root GUI.\n\t\t * @type {GUI}\n\t\t */\n\t\tthis.root = parent ? parent.root : this;\n\n\t\t/**\n\t\t * The list of controllers and folders contained by this GUI.\n\t\t * @type {Array<GUI|Controller>}\n\t\t */\n\t\tthis.children = [];\n\n\t\t/**\n\t\t * The list of controllers contained by this GUI.\n\t\t * @type {Array<Controller>}\n\t\t */\n\t\tthis.controllers = [];\n\n\t\t/**\n\t\t * The list of folders contained by this GUI.\n\t\t * @type {Array<GUI>}\n\t\t */\n\t\tthis.folders = [];\n\n\t\t/**\n\t\t * Used to determine if the GUI is closed. Use `gui.open()` or `gui.close()` to change this.\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._closed = false;\n\n\t\t/**\n\t\t * Used to determine if the GUI is hidden. Use `gui.show()` or `gui.hide()` to change this.\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._hidden = false;\n\n\t\t/**\n\t\t * The outermost container element.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.domElement = document.createElement( 'div' );\n\t\tthis.domElement.classList.add( 'lil-gui' );\n\n\t\t/**\n\t\t * The DOM element that contains the title.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$title = document.createElement( 'button' );\n\t\tthis.$title.classList.add( 'lil-title' );\n\t\tthis.$title.setAttribute( 'aria-expanded', true );\n\n\t\tthis.$title.addEventListener( 'click', () => this.openAnimated( this._closed ) );\n\n\t\t// enables :active pseudo class on mobile\n\t\tthis.$title.addEventListener( 'touchstart', () => {}, { passive: true } );\n\n\t\t/**\n\t\t * The DOM element that contains children.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$children = document.createElement( 'div' );\n\t\tthis.$children.classList.add( 'lil-children' );\n\n\t\tthis.domElement.appendChild( this.$title );\n\t\tthis.domElement.appendChild( this.$children );\n\n\t\tthis.title( title );\n\n\t\tif ( this.parent ) {\n\n\t\t\tthis.parent.children.push( this );\n\t\t\tthis.parent.folders.push( this );\n\n\t\t\tthis.parent.$children.appendChild( this.domElement );\n\n\t\t\t// Stop the constructor early, everything onward only applies to root GUI's\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.domElement.classList.add( 'lil-root' );\n\n\t\tif ( touchStyles ) {\n\t\t\tthis.domElement.classList.add( 'lil-allow-touch-styles' );\n\t\t}\n\n\t\t// Inject stylesheet if we haven't done that yet\n\t\tif ( !stylesInjected && injectStyles ) {\n\t\t\t_injectStyles( stylesheet );\n\t\t\tstylesInjected = true;\n\t\t}\n\n\t\tif ( container ) {\n\n\t\t\tcontainer.appendChild( this.domElement );\n\n\t\t} else if ( autoPlace ) {\n\n\t\t\t// https://github.com/georgealways/lil-gui/pull/154\n\t\t\t// .autoPlace is deprecated in 0.21.0, but unlikely to conflict with user styles.\n\t\t\t// keeping it for backwards compatibility.\n\t\t\tthis.domElement.classList.add( 'lil-auto-place', 'autoPlace' );\n\t\t\tdocument.body.appendChild( this.domElement );\n\n\t\t}\n\n\t\tif ( width ) {\n\t\t\tthis.domElement.style.setProperty( '--width', width + 'px' );\n\t\t}\n\n\t\tthis._closeFolders = closeFolders;\n\n\t}\n\n\t/**\n\t * Adds a controller to the GUI, inferring controller type using the `typeof` operator.\n\t * @example\n\t * gui.add( object, 'property' );\n\t * gui.add( object, 'number', 0, 100, 1 );\n\t * gui.add( object, 'options', [ 1, 2, 3 ] );\n\t *\n\t * @param {object} object The object the controller will modify.\n\t * @param {string} property Name of the property to control.\n\t * @param {number|object|Array} [$1] Minimum value for number controllers, or the set of\n\t * selectable values for a dropdown.\n\t * @param {number} [max] Maximum value for number controllers.\n\t * @param {number} [step] Step value for number controllers.\n\t * @returns {Controller}\n\t */\n\tadd( object, property, $1, max, step ) {\n\n\t\tif ( Object( $1 ) === $1 ) {\n\n\t\t\treturn new OptionController( this, object, property, $1 );\n\n\t\t}\n\n\t\tconst initialValue = object[ property ];\n\n\t\tswitch ( typeof initialValue ) {\n\n\t\t\tcase 'number':\n\n\t\t\t\treturn new NumberController( this, object, property, $1, max, step );\n\n\t\t\tcase 'boolean':\n\n\t\t\t\treturn new BooleanController( this, object, property );\n\n\t\t\tcase 'string':\n\n\t\t\t\treturn new StringController( this, object, property );\n\n\t\t\tcase 'function':\n\n\t\t\t\treturn new FunctionController( this, object, property );\n\n\t\t}\n\n\t\tconsole.error( `gui.add failed\n\tproperty:`, property, `\n\tobject:`, object, `\n\tvalue:`, initialValue );\n\n\t}\n\n\t/**\n\t * Adds a color controller to the GUI.\n\t * @example\n\t * params = {\n\t * \tcssColor: '#ff00ff',\n\t * \trgbColor: { r: 0, g: 0.2, b: 0.4 },\n\t * \tcustomRange: [ 0, 127, 255 ],\n\t * };\n\t *\n\t * gui.addColor( params, 'cssColor' );\n\t * gui.addColor( params, 'rgbColor' );\n\t * gui.addColor( params, 'customRange', 255 );\n\t *\n\t * @param {object} object The object the controller will modify.\n\t * @param {string} property Name of the property to control.\n\t * @param {number} rgbScale Maximum value for a color channel when using an RGB color. You may\n\t * need to set this to 255 if your colors are too bright.\n\t * @returns {Controller}\n\t */\n\taddColor( object, property, rgbScale = 1 ) {\n\t\treturn new ColorController( this, object, property, rgbScale );\n\t}\n\n\t/**\n\t * Adds a folder to the GUI, which is just another GUI. This method returns\n\t * the nested GUI so you can add controllers to it.\n\t * @example\n\t * const folder = gui.addFolder( 'Position' );\n\t * folder.add( position, 'x' );\n\t * folder.add( position, 'y' );\n\t * folder.add( position, 'z' );\n\t *\n\t * @param {string} title Name to display in the folder's title bar.\n\t * @returns {GUI}\n\t */\n\taddFolder( title ) {\n\t\tconst folder = new GUI( { parent: this, title } );\n\t\tif ( this.root._closeFolders ) folder.close();\n\t\treturn folder;\n\t}\n\n\t/**\n\t * Recalls values that were saved with `gui.save()`.\n\t * @param {object} obj\n\t * @param {boolean} recursive Pass false to exclude folders descending from this GUI.\n\t * @returns {this}\n\t */\n\tload( obj, recursive = true ) {\n\n\t\tif ( obj.controllers ) {\n\n\t\t\tthis.controllers.forEach( c => {\n\n\t\t\t\tif ( c instanceof FunctionController ) return;\n\n\t\t\t\tif ( c._name in obj.controllers ) {\n\t\t\t\t\tc.load( obj.controllers[ c._name ] );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t}\n\n\t\tif ( recursive && obj.folders ) {\n\n\t\t\tthis.folders.forEach( f => {\n\n\t\t\t\tif ( f._title in obj.folders ) {\n\t\t\t\t\tf.load( obj.folders[ f._title ] );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Returns an object mapping controller names to values. The object can be passed to `gui.load()` to\n\t * recall these values.\n\t * @example\n\t * {\n\t * \tcontrollers: {\n\t * \t\tprop1: 1,\n\t * \t\tprop2: 'value',\n\t * \t\t...\n\t * \t},\n\t * \tfolders: {\n\t * \t\tfolderName1: { controllers, folders },\n\t * \t\tfolderName2: { controllers, folders }\n\t * \t\t...\n\t * \t}\n\t * }\n\t *\n\t * @param {boolean} recursive Pass false to exclude folders descending from this GUI.\n\t * @returns {object}\n\t */\n\tsave( recursive = true ) {\n\n\t\tconst obj = {\n\t\t\tcontrollers: {},\n\t\t\tfolders: {}\n\t\t};\n\n\t\tthis.controllers.forEach( c => {\n\n\t\t\tif ( c instanceof FunctionController ) return;\n\n\t\t\tif ( c._name in obj.controllers ) {\n\t\t\t\tthrow new Error( `Cannot save GUI with duplicate property \"${c._name}\"` );\n\t\t\t}\n\n\t\t\tobj.controllers[ c._name ] = c.save();\n\n\t\t} );\n\n\t\tif ( recursive ) {\n\n\t\t\tthis.folders.forEach( f => {\n\n\t\t\t\tif ( f._title in obj.folders ) {\n\t\t\t\t\tthrow new Error( `Cannot save GUI with duplicate folder \"${f._title}\"` );\n\t\t\t\t}\n\n\t\t\t\tobj.folders[ f._title ] = f.save();\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn obj;\n\n\t}\n\n\t/**\n\t * Opens a GUI or folder. GUI and folders are open by default.\n\t * @param {boolean} open Pass false to close.\n\t * @returns {this}\n\t * @example\n\t * gui.open(); // open\n\t * gui.open( false ); // close\n\t * gui.open( gui._closed ); // toggle\n\t */\n\topen( open = true ) {\n\n\t\tthis._setClosed( !open );\n\n\t\tthis.$title.setAttribute( 'aria-expanded', !this._closed );\n\t\tthis.domElement.classList.toggle( 'lil-closed', this._closed );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Closes the GUI.\n\t * @returns {this}\n\t */\n\tclose() {\n\t\treturn this.open( false );\n\t}\n\n\t_setClosed( closed ) {\n\t\tif ( this._closed === closed ) return;\n\t\tthis._closed = closed;\n\t\tthis._callOnOpenClose( this );\n\t}\n\n\t/**\n\t * Shows the GUI after it's been hidden.\n\t * @param {boolean} show\n\t * @returns {this}\n\t * @example\n\t * gui.show();\n\t * gui.show( false ); // hide\n\t * gui.show( gui._hidden ); // toggle\n\t */\n\tshow( show = true ) {\n\n\t\tthis._hidden = !show;\n\n\t\tthis.domElement.style.display = this._hidden ? 'none' : '';\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Hides the GUI.\n\t * @returns {this}\n\t */\n\thide() {\n\t\treturn this.show( false );\n\t}\n\n\topenAnimated( open = true ) {\n\n\t\t// set state immediately\n\t\tthis._setClosed( !open );\n\n\t\tthis.$title.setAttribute( 'aria-expanded', !this._closed );\n\n\t\t// wait for next frame to measure $children\n\t\trequestAnimationFrame( () => {\n\n\t\t\t// explicitly set initial height for transition\n\t\t\tconst initialHeight = this.$children.clientHeight;\n\t\t\tthis.$children.style.height = initialHeight + 'px';\n\n\t\t\tthis.domElement.classList.add( 'lil-transition' );\n\n\t\t\tconst onTransitionEnd = e => {\n\t\t\t\tif ( e.target !== this.$children ) return;\n\t\t\t\tthis.$children.style.height = '';\n\t\t\t\tthis.domElement.classList.remove( 'lil-transition' );\n\t\t\t\tthis.$children.removeEventListener( 'transitionend', onTransitionEnd );\n\t\t\t};\n\n\t\t\tthis.$children.addEventListener( 'transitionend', onTransitionEnd );\n\n\t\t\t// todo: this is wrong if children's scrollHeight makes for a gui taller than maxHeight\n\t\t\tconst targetHeight = !open ? 0 : this.$children.scrollHeight;\n\n\t\t\tthis.domElement.classList.toggle( 'lil-closed', !open );\n\n\t\t\trequestAnimationFrame( () => {\n\t\t\t\tthis.$children.style.height = targetHeight + 'px';\n\t\t\t} );\n\n\t\t} );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Change the title of this GUI.\n\t * @param {string} title\n\t * @returns {this}\n\t */\n\ttitle( title ) {\n\t\t/**\n\t\t * Current title of the GUI. Use `gui.title( 'Title' )` to modify this value.\n\t\t * @type {string}\n\t\t */\n\t\tthis._title = title;\n\t\tthis.$title.textContent = title;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Resets all controllers to their initial values.\n\t * @param {boolean} recursive Pass false to exclude folders descending from this GUI.\n\t * @returns {this}\n\t */\n\treset( recursive = true ) {\n\t\tconst controllers = recursive ? this.controllersRecursive() : this.controllers;\n\t\tcontrollers.forEach( c => c.reset() );\n\t\treturn this;\n\t}\n\n\t/**\n\t * Pass a function to be called whenever a controller in this GUI changes.\n\t * @param {function({object:object, property:string, value:any, controller:Controller})} callback\n\t * @returns {this}\n\t * @example\n\t * gui.onChange( event => {\n\t * \tevent.object     // object that was modified\n\t * \tevent.property   // string, name of property\n\t * \tevent.value      // new value of controller\n\t * \tevent.controller // controller that was modified\n\t * } );\n\t */\n\tonChange( callback ) {\n\t\t/**\n\t\t * Used to access the function bound to `onChange` events. Don't modify this value\n\t\t * directly. Use the `gui.onChange( callback )` method instead.\n\t\t * @type {Function}\n\t\t */\n\t\tthis._onChange = callback;\n\t\treturn this;\n\t}\n\n\t_callOnChange( controller ) {\n\n\t\tif ( this.parent ) {\n\t\t\tthis.parent._callOnChange( controller );\n\t\t}\n\n\t\tif ( this._onChange !== undefined ) {\n\t\t\tthis._onChange.call( this, {\n\t\t\t\tobject: controller.object,\n\t\t\t\tproperty: controller.property,\n\t\t\t\tvalue: controller.getValue(),\n\t\t\t\tcontroller\n\t\t\t} );\n\t\t}\n\n\t}\n\n\t/**\n\t * Pass a function to be called whenever a controller in this GUI has finished changing.\n\t * @param {function({object:object, property:string, value:any, controller:Controller})} callback\n\t * @returns {this}\n\t * @example\n\t * gui.onFinishChange( event => {\n\t * \tevent.object     // object that was modified\n\t * \tevent.property   // string, name of property\n\t * \tevent.value      // new value of controller\n\t * \tevent.controller // controller that was modified\n\t * } );\n\t */\n\tonFinishChange( callback ) {\n\t\t/**\n\t\t * Used to access the function bound to `onFinishChange` events. Don't modify this value\n\t\t * directly. Use the `gui.onFinishChange( callback )` method instead.\n\t\t * @type {Function}\n\t\t */\n\t\tthis._onFinishChange = callback;\n\t\treturn this;\n\t}\n\n\t_callOnFinishChange( controller ) {\n\n\t\tif ( this.parent ) {\n\t\t\tthis.parent._callOnFinishChange( controller );\n\t\t}\n\n\t\tif ( this._onFinishChange !== undefined ) {\n\t\t\tthis._onFinishChange.call( this, {\n\t\t\t\tobject: controller.object,\n\t\t\t\tproperty: controller.property,\n\t\t\t\tvalue: controller.getValue(),\n\t\t\t\tcontroller\n\t\t\t} );\n\t\t}\n\n\t}\n\n\t/**\n\t * Pass a function to be called when this GUI or its descendants are opened or closed.\n\t * @param {function(GUI)} callback\n\t * @returns {this}\n\t * @example\n\t * gui.onOpenClose( changedGUI => {\n\t * \tconsole.log( changedGUI._closed );\n\t * } );\n\t */\n\tonOpenClose( callback ) {\n\t\tthis._onOpenClose = callback;\n\t\treturn this;\n\t}\n\n\t_callOnOpenClose( changedGUI ) {\n\t\tif ( this.parent ) {\n\t\t\tthis.parent._callOnOpenClose( changedGUI );\n\t\t}\n\n\t\tif ( this._onOpenClose !== undefined ) {\n\t\t\tthis._onOpenClose.call( this, changedGUI );\n\t\t}\n\t}\n\n\t/**\n\t * Destroys all DOM elements and event listeners associated with this GUI.\n\t */\n\tdestroy() {\n\n\t\tif ( this.parent ) {\n\t\t\tthis.parent.children.splice( this.parent.children.indexOf( this ), 1 );\n\t\t\tthis.parent.folders.splice( this.parent.folders.indexOf( this ), 1 );\n\t\t}\n\n\t\tif ( this.domElement.parentElement ) {\n\t\t\tthis.domElement.parentElement.removeChild( this.domElement );\n\t\t}\n\n\t\tArray.from( this.children ).forEach( c => c.destroy() );\n\n\t}\n\n\t/**\n\t * Returns an array of controllers contained by this GUI and its descendents.\n\t * @returns {Controller[]}\n\t */\n\tcontrollersRecursive() {\n\t\tlet controllers = Array.from( this.controllers );\n\t\tthis.folders.forEach( f => {\n\t\t\tcontrollers = controllers.concat( f.controllersRecursive() );\n\t\t} );\n\t\treturn controllers;\n\t}\n\n\t/**\n\t * Returns an array of folders contained by this GUI and its descendents.\n\t * @returns {GUI[]}\n\t */\n\tfoldersRecursive() {\n\t\tlet folders = Array.from( this.folders );\n\t\tthis.folders.forEach( f => {\n\t\t\tfolders = folders.concat( f.foldersRecursive() );\n\t\t} );\n\t\treturn folders;\n\t}\n\n}\n\nexport { BooleanController, ColorController, Controller, FunctionController, GUI, NumberController, OptionController, StringController, GUI as default };\n","import { GUI } from 'lil-gui';\n\nexport class ControlPanel {\n    constructor(params, updateCallback) {\n        this.params = params;\n        this.updateCallback = updateCallback;\n        this.gui = new GUI({ title: 'Visualization Controls' });\n\n        this.setupControls();\n    }\n\n    setupControls() {\n        // Visualization folder\n        const vizFolder = this.gui.addFolder('Display Options');\n        vizFolder.add(this.params, 'showParticles')\n            .name('Show Particles')\n            .onChange(() => this.updateCallback());\n        vizFolder.add(this.params, 'showVectors')\n            .name('Show Vectors')\n            .onChange(() => this.updateCallback());\n        vizFolder.add(this.params, 'particleCount', 1000, 20000, 1000)\n            .name('Particle Count')\n            .onChange(() => {\n                console.log('Particle count change requires restart');\n            });\n        vizFolder.open();\n\n        // Info section\n        const infoFolder = this.gui.addFolder('About');\n        infoFolder.add({ info: 'Real buoy data from 2023-2024' }, 'info')\n            .name('Data Source')\n            .disable();\n        infoFolder.add({ records: '17,494 hourly records' }, 'records')\n            .name('Dataset')\n            .disable();\n        infoFolder.open();\n    }\n\n    destroy() {\n        this.gui.destroy();\n    }\n}\n","export class TimelineControl {\n    constructor(buoyDataLoader, onTimeChange) {\n        this.buoyDataLoader = buoyDataLoader;\n        this.onTimeChange = onTimeChange;\n        this.createControls();\n    }\n\n    createControls() {\n        // Main container\n        this.container = document.createElement('div');\n        this.container.id = 'timeline-control';\n        this.container.style.cssText = `\n            position: absolute;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0, 0, 0, 0.75);\n            color: white;\n            padding: 20px;\n            border-radius: 10px;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            font-size: 14px;\n            min-width: 400px;\n            backdrop-filter: blur(10px);\n            border: 1px solid rgba(79, 195, 247, 0.3);\n            z-index: 100;\n        `;\n\n        // Title\n        const title = document.createElement('h3');\n        title.textContent = 'Timeline Playback';\n        title.style.cssText = `\n            margin: 0 0 15px 0;\n            color: #4fc3f7;\n            font-size: 18px;\n            border-bottom: 2px solid #4fc3f7;\n            padding-bottom: 8px;\n        `;\n        this.container.appendChild(title);\n\n        // Current time display\n        this.timeDisplay = document.createElement('div');\n        this.timeDisplay.style.cssText = `\n            margin-bottom: 15px;\n            font-size: 16px;\n            font-weight: bold;\n            color: #81c784;\n            text-align: center;\n        `;\n        this.container.appendChild(this.timeDisplay);\n\n        // Timeline slider\n        const sliderContainer = document.createElement('div');\n        sliderContainer.style.cssText = 'margin-bottom: 15px;';\n\n        this.slider = document.createElement('input');\n        this.slider.type = 'range';\n        this.slider.min = '0';\n        this.slider.max = String(this.buoyDataLoader.getTotalRecords() - 1);\n        this.slider.value = '0';\n        this.slider.style.cssText = `\n            width: 100%;\n            height: 8px;\n            border-radius: 5px;\n            background: linear-gradient(90deg, #4fc3f7, #81c784);\n            outline: none;\n            cursor: pointer;\n        `;\n        this.slider.addEventListener('input', (e) => {\n            const index = parseInt(e.target.value);\n            this.onTimeChange(index);\n            this.updateDisplay(index);\n        });\n        sliderContainer.appendChild(this.slider);\n        this.container.appendChild(sliderContainer);\n\n        // Date range display\n        const stats = this.buoyDataLoader.getStats();\n        const dateRange = document.createElement('div');\n        dateRange.style.cssText = `\n            display: flex;\n            justify-content: space-between;\n            font-size: 11px;\n            color: #aaa;\n            margin-bottom: 15px;\n        `;\n        dateRange.innerHTML = `\n            <span>${this.formatDate(stats.timeRange.start)}</span>\n            <span>${this.formatDate(stats.timeRange.end)}</span>\n        `;\n        this.container.appendChild(dateRange);\n\n        // Playback controls\n        const controlsRow = document.createElement('div');\n        controlsRow.style.cssText = `\n            display: flex;\n            gap: 10px;\n            align-items: center;\n            justify-content: center;\n            margin-bottom: 15px;\n        `;\n\n        // Play/Pause button\n        this.playButton = this.createButton(' Play', () => this.togglePlayback());\n        controlsRow.appendChild(this.playButton);\n\n        // Step backward\n        const stepBackButton = this.createButton('', () => this.stepBackward());\n        stepBackButton.style.width = '40px';\n        controlsRow.appendChild(stepBackButton);\n\n        // Step forward\n        const stepForwardButton = this.createButton('', () => this.stepForward());\n        stepForwardButton.style.width = '40px';\n        controlsRow.appendChild(stepForwardButton);\n\n        // Reset button\n        const resetButton = this.createButton(' Reset', () => this.reset());\n        controlsRow.appendChild(resetButton);\n\n        this.container.appendChild(controlsRow);\n\n        // Speed control\n        const speedContainer = document.createElement('div');\n        speedContainer.style.cssText = 'margin-bottom: 10px;';\n\n        const speedLabel = document.createElement('div');\n        speedLabel.style.cssText = 'margin-bottom: 8px; font-size: 13px; color: #ccc;';\n        speedLabel.textContent = 'Playback Speed:';\n        speedContainer.appendChild(speedLabel);\n\n        const speedButtons = document.createElement('div');\n        speedButtons.style.cssText = 'display: flex; gap: 8px; justify-content: center;';\n\n        ['0.5x', '1x', '2x', '5x', '10x'].forEach(speed => {\n            const btn = this.createButton(speed, () => this.setSpeed(parseFloat(speed)));\n            btn.style.flex = '1';\n            btn.style.fontSize = '12px';\n            if (speed === '1x') {\n                btn.style.background = 'linear-gradient(135deg, #667eea, #764ba2)';\n            }\n            speedButtons.appendChild(btn);\n        });\n\n        speedContainer.appendChild(speedButtons);\n        this.container.appendChild(speedContainer);\n\n        // Info display\n        this.infoDisplay = document.createElement('div');\n        this.infoDisplay.style.cssText = `\n            margin-top: 15px;\n            padding-top: 15px;\n            border-top: 1px solid rgba(255, 255, 255, 0.2);\n            font-size: 12px;\n            line-height: 1.6;\n            color: #ddd;\n        `;\n        this.container.appendChild(this.infoDisplay);\n\n        // Add to DOM\n        document.body.appendChild(this.container);\n\n        // Initialize display\n        this.updateDisplay(0);\n        this.isPlaying = false;\n        this.playbackSpeed = 1.0;\n    }\n\n    createButton(text, onClick) {\n        const button = document.createElement('button');\n        button.textContent = text;\n        button.style.cssText = `\n            padding: 8px 16px;\n            background: linear-gradient(135deg, #667eea, #764ba2);\n            color: white;\n            border: none;\n            border-radius: 5px;\n            cursor: pointer;\n            font-size: 13px;\n            font-weight: bold;\n            transition: all 0.3s;\n        `;\n        button.addEventListener('mouseover', () => {\n            button.style.transform = 'scale(1.05)';\n            button.style.boxShadow = '0 4px 12px rgba(102, 126, 234, 0.4)';\n        });\n        button.addEventListener('mouseout', () => {\n            button.style.transform = 'scale(1)';\n            button.style.boxShadow = 'none';\n        });\n        button.addEventListener('click', onClick);\n        return button;\n    }\n\n    updateDisplay(index) {\n        const record = this.buoyDataLoader.getRecordByIndex(index);\n        if (!record) return;\n\n        // Update time display\n        this.timeDisplay.textContent = this.formatDateTime(record.timestamp);\n\n        // Update slider\n        this.slider.value = String(index);\n\n        // Update info display\n        this.infoDisplay.innerHTML = `\n            <div><strong>Record:</strong> ${index + 1} / ${this.buoyDataLoader.getTotalRecords()}</div>\n            <div><strong>Progress:</strong> ${((index / this.buoyDataLoader.getTotalRecords()) * 100).toFixed(1)}%</div>\n        `;\n    }\n\n    togglePlayback() {\n        this.isPlaying = !this.isPlaying;\n        this.playButton.textContent = this.isPlaying ? ' Pause' : ' Play';\n\n        // Notify parent (will be handled by params in main.js)\n        if (window.simulator && window.simulator.params) {\n            window.simulator.params.isPlaying = this.isPlaying;\n        }\n    }\n\n    stepForward() {\n        const currentIndex = parseInt(this.slider.value);\n        const nextIndex = Math.min(currentIndex + 1, this.buoyDataLoader.getTotalRecords() - 1);\n        this.slider.value = String(nextIndex);\n        this.onTimeChange(nextIndex);\n        this.updateDisplay(nextIndex);\n    }\n\n    stepBackward() {\n        const currentIndex = parseInt(this.slider.value);\n        const prevIndex = Math.max(currentIndex - 1, 0);\n        this.slider.value = String(prevIndex);\n        this.onTimeChange(prevIndex);\n        this.updateDisplay(prevIndex);\n    }\n\n    reset() {\n        this.slider.value = '0';\n        this.onTimeChange(0);\n        this.updateDisplay(0);\n        if (this.isPlaying) {\n            this.togglePlayback();\n        }\n    }\n\n    setSpeed(speed) {\n        this.playbackSpeed = speed;\n\n        // Update button styles\n        const speedButtons = this.container.querySelectorAll('button');\n        speedButtons.forEach(btn => {\n            if (btn.textContent === `${speed}x`) {\n                btn.style.background = 'linear-gradient(135deg, #667eea, #764ba2)';\n            } else if (btn.textContent.includes('x') && !btn.textContent.includes('Play') && !btn.textContent.includes('Pause')) {\n                btn.style.background = 'linear-gradient(135deg, #4fc3f7, #3a7bd5)';\n            }\n        });\n\n        // Notify parent\n        if (window.simulator && window.simulator.params) {\n            window.simulator.params.playbackSpeed = speed;\n        }\n    }\n\n    formatDate(date) {\n        if (!date) return 'N/A';\n        return date.toLocaleDateString('en-US', {\n            month: 'short',\n            day: 'numeric',\n            year: 'numeric'\n        });\n    }\n\n    formatDateTime(date) {\n        if (!date) return 'N/A';\n        return date.toLocaleString('en-US', {\n            month: 'short',\n            day: 'numeric',\n            year: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit'\n        });\n    }\n\n    destroy() {\n        if (this.container && this.container.parentNode) {\n            this.container.parentNode.removeChild(this.container);\n        }\n    }\n}\n","export class DataPanel {\n    constructor() {\n        this.createPanel();\n    }\n\n    createPanel() {\n        // Create panel container\n        this.panel = document.createElement('div');\n        this.panel.id = 'data-panel';\n        this.panel.style.cssText = `\n            position: absolute;\n            bottom: 20px;\n            left: 20px;\n            background: rgba(0, 0, 0, 0.75);\n            color: white;\n            padding: 20px;\n            border-radius: 10px;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            font-size: 14px;\n            min-width: 300px;\n            backdrop-filter: blur(10px);\n            border: 1px solid rgba(79, 195, 247, 0.3);\n            z-index: 100;\n        `;\n\n        // Title\n        const title = document.createElement('h3');\n        title.textContent = 'Current Status';\n        title.style.cssText = `\n            margin: 0 0 15px 0;\n            color: #4fc3f7;\n            font-size: 18px;\n            border-bottom: 2px solid #4fc3f7;\n            padding-bottom: 8px;\n        `;\n        this.panel.appendChild(title);\n\n        // Data container\n        this.dataContainer = document.createElement('div');\n        this.panel.appendChild(this.dataContainer);\n\n        // Chart container for forcing influence\n        this.chartContainer = document.createElement('div');\n        this.chartContainer.style.cssText = `\n            margin-top: 15px;\n            padding-top: 15px;\n            border-top: 1px solid rgba(255, 255, 255, 0.2);\n        `;\n        this.panel.appendChild(this.chartContainer);\n\n        document.body.appendChild(this.panel);\n    }\n\n    update(params, maxVelocity, dominantForcing) {\n        // Calculate relative influences\n        const influences = this.calculateInfluences(params);\n\n        // Build data display\n        let html = `\n            <div style=\"margin-bottom: 10px;\">\n                <strong>Parameters:</strong>\n            </div>\n            <div style=\"margin-left: 10px; line-height: 1.8;\">\n                <div>River: <span style=\"color: #81c784;\">${params.riverDischarge.toFixed(0)} m/s</span></div>\n                <div>Wind: <span style=\"color: #64b5f6;\">${params.windSpeed.toFixed(1)} m/s @ ${params.windDirection.toFixed(0)}</span></div>\n                <div>Tide: <span style=\"color: #ffb74d;\">${params.tidePhase.toFixed(1)} hrs</span></div>\n            </div>\n            <div style=\"margin-top: 15px; margin-bottom: 10px;\">\n                <strong>Flow Metrics:</strong>\n            </div>\n            <div style=\"margin-left: 10px; line-height: 1.8;\">\n                <div>Max Velocity: <span style=\"color: #f06292;\">${maxVelocity.toFixed(2)} m/s</span></div>\n                <div>Dominant Force: <span style=\"color: #ffd54f; font-weight: bold;\">${dominantForcing}</span></div>\n            </div>\n        `;\n\n        this.dataContainer.innerHTML = html;\n\n        // Update chart\n        this.updateChart(influences);\n    }\n\n    calculateInfluences(params) {\n        // Normalize each forcing mechanism to 0-1 range\n        const riverInfluence = Math.min(params.riverDischarge / 10000, 1);\n        const windInfluence = Math.min(params.windSpeed / 30, 1);\n        const tidalInfluence = Math.abs(Math.sin((params.tidePhase / 12.4) * 2 * Math.PI));\n\n        const total = riverInfluence + windInfluence + tidalInfluence;\n\n        return {\n            river: total > 0 ? (riverInfluence / total) * 100 : 0,\n            wind: total > 0 ? (windInfluence / total) * 100 : 0,\n            tide: total > 0 ? (tidalInfluence / total) * 100 : 0\n        };\n    }\n\n    updateChart(influences) {\n        const chartHTML = `\n            <div style=\"margin-bottom: 8px; font-weight: bold; font-size: 13px;\">\n                Forcing Influence:\n            </div>\n            <div style=\"margin-bottom: 8px;\">\n                <div style=\"display: flex; justify-content: space-between; margin-bottom: 3px;\">\n                    <span>River</span>\n                    <span style=\"color: #81c784;\">${influences.river.toFixed(1)}%</span>\n                </div>\n                <div style=\"background: rgba(255,255,255,0.1); border-radius: 10px; height: 18px; overflow: hidden;\">\n                    <div style=\"background: linear-gradient(90deg, #66bb6a, #81c784); height: 100%; width: ${influences.river}%; transition: width 0.3s;\"></div>\n                </div>\n            </div>\n            <div style=\"margin-bottom: 8px;\">\n                <div style=\"display: flex; justify-content: space-between; margin-bottom: 3px;\">\n                    <span>Wind</span>\n                    <span style=\"color: #64b5f6;\">${influences.wind.toFixed(1)}%</span>\n                </div>\n                <div style=\"background: rgba(255,255,255,0.1); border-radius: 10px; height: 18px; overflow: hidden;\">\n                    <div style=\"background: linear-gradient(90deg, #42a5f5, #64b5f6); height: 100%; width: ${influences.wind}%; transition: width 0.3s;\"></div>\n                </div>\n            </div>\n            <div style=\"margin-bottom: 8px;\">\n                <div style=\"display: flex; justify-content: space-between; margin-bottom: 3px;\">\n                    <span>Tides</span>\n                    <span style=\"color: #ffb74d;\">${influences.tide.toFixed(1)}%</span>\n                </div>\n                <div style=\"background: rgba(255,255,255,0.1); border-radius: 10px; height: 18px; overflow: hidden;\">\n                    <div style=\"background: linear-gradient(90deg, #ffa726, #ffb74d); height: 100%; width: ${influences.tide}%; transition: width 0.3s;\"></div>\n                </div>\n            </div>\n        `;\n\n        this.chartContainer.innerHTML = chartHTML;\n    }\n\n    setVisible(visible) {\n        this.panel.style.display = visible ? 'block' : 'none';\n    }\n\n    updateRealData(record, maxVelocity, clusterName) {\n        // Build data display with real buoy measurements\n        let html = `\n            <div style=\"margin-bottom: 10px;\">\n                <strong>Real-Time Measurements:</strong>\n            </div>\n            <div style=\"margin-left: 10px; line-height: 1.8;\">\n                <div>Time: <span style=\"color: #81c784;\">${new Date(record.time).toLocaleString()}</span></div>\n                <div>River Discharge: <span style=\"color: #64b5f6;\">${record.riverDischarge ? record.riverDischarge.toFixed(1) : 'N/A'} m/s</span></div>\n                <div>Sea Level: <span style=\"color: #ffb74d;\">${record.seaLevel !== null && record.seaLevel !== undefined ? record.seaLevel.toFixed(2) : 'N/A'} m</span></div>\n                <div>Air Temp: <span style=\"color: #f06292;\">${record.airTemp !== null && record.airTemp !== undefined ? record.airTemp.toFixed(1) : 'N/A'} C</span></div>\n            </div>\n            <div style=\"margin-top: 15px; margin-bottom: 10px;\">\n                <strong>Flow Metrics:</strong>\n            </div>\n            <div style=\"margin-left: 10px; line-height: 1.8;\">\n                <div>Max Velocity: <span style=\"color: #f06292;\">${maxVelocity.toFixed(2)} m/s</span></div>\n                <div>Ocean Regime: <span style=\"color: #ffd54f; font-weight: bold;\">${clusterName}</span></div>\n                <div>Cluster ID: <span style=\"color: #ba68c8;\">${record.cluster}</span></div>\n            </div>\n        `;\n\n        // Add buoy station velocities\n        html += `\n            <div style=\"margin-top: 15px; margin-bottom: 10px;\">\n                <strong>Buoy Stations:</strong>\n            </div>\n            <div style=\"margin-left: 10px; line-height: 1.8; font-size: 12px;\">\n        `;\n\n        Object.entries(record.buoys).forEach(([buoyId, data]) => {\n            if (data.u !== null && data.u !== undefined && data.v !== null && data.v !== undefined) {\n                const mag = Math.sqrt(data.u * data.u + data.v * data.v);\n                html += `<div>${buoyId}: <span style=\"color: #4fc3f7;\">${mag.toFixed(2)} m/s</span></div>`;\n            } else {\n                html += `<div>${buoyId}: <span style=\"color: #999;\">No data</span></div>`;\n            }\n        });\n\n        html += `</div>`;\n\n        this.dataContainer.innerHTML = html;\n    }\n\n    destroy() {\n        if (this.panel && this.panel.parentNode) {\n            this.panel.parentNode.removeChild(this.panel);\n        }\n    }\n}\n","export class HelpPanel {\n    constructor() {\n        this.createPanel();\n        this.isVisible = true;\n    }\n\n    createPanel() {\n        // Create overlay\n        this.overlay = document.createElement('div');\n        this.overlay.style.cssText = `\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100vw;\n            height: 100vh;\n            background: rgba(0, 0, 0, 0.85);\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            z-index: 1000;\n            backdrop-filter: blur(5px);\n        `;\n\n        // Create panel\n        this.panel = document.createElement('div');\n        this.panel.style.cssText = `\n            background: linear-gradient(135deg, #1a2332 0%, #0a0e27 100%);\n            color: white;\n            padding: 40px;\n            border-radius: 15px;\n            max-width: 600px;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            border: 2px solid #4fc3f7;\n            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);\n        `;\n\n        this.panel.innerHTML = `\n            <h2 style=\"color: #4fc3f7; margin: 0 0 20px 0; font-size: 28px;\">\n                Welcome to Ocean Current Simulator\n            </h2>\n            <p style=\"line-height: 1.6; margin-bottom: 20px; color: #b0bec5;\">\n                This interactive 3D visualization demonstrates how different forcing mechanisms\n                affect surface currents in the Strait of Georgia, British Columbia.\n            </p>\n\n            <h3 style=\"color: #81c784; margin: 20px 0 10px 0; font-size: 20px;\">\n                Controls\n            </h3>\n            <ul style=\"line-height: 2; color: #e0e0e0; margin-left: 20px;\">\n                <li><strong>Mouse Drag:</strong> Rotate view</li>\n                <li><strong>Mouse Wheel:</strong> Zoom in/out</li>\n                <li><strong>Right Panel:</strong> Adjust forcing parameters</li>\n            </ul>\n\n            <h3 style=\"color: #64b5f6; margin: 20px 0 10px 0; font-size: 20px;\">\n                Forcing Mechanisms\n            </h3>\n            <ul style=\"line-height: 2; color: #e0e0e0; margin-left: 20px;\">\n                <li><strong style=\"color: #81c784;\">River Discharge:</strong> Fraser River outflow creates a northward plume</li>\n                <li><strong style=\"color: #64b5f6;\">Wind:</strong> Surface wind stress drives current with Ekman deflection</li>\n                <li><strong style=\"color: #ffb74d;\">Tides:</strong> Periodic along-strait oscillations (~12.4 hour cycle)</li>\n            </ul>\n\n            <h3 style=\"color: #ffd54f; margin: 20px 0 10px 0; font-size: 20px;\">\n                Visualization\n            </h3>\n            <ul style=\"line-height: 2; color: #e0e0e0; margin-left: 20px;\">\n                <li><strong>Particles:</strong> Colored by speed (blue=slow, red=fast)</li>\n                <li><strong>Vectors:</strong> Show direction and magnitude at grid points</li>\n                <li><strong>Bottom Left Panel:</strong> Real-time metrics and forcing influence</li>\n            </ul>\n\n            <p style=\"margin-top: 30px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.2); color: #90a4ae; font-size: 14px;\">\n                This simulator uses physics-based mock data to demonstrate the research framework\n                developed for understanding ocean current dynamics in the Strait of Georgia.\n            </p>\n\n            <button id=\"start-btn\" style=\"\n                margin-top: 20px;\n                padding: 15px 40px;\n                background: linear-gradient(135deg, #4fc3f7, #2196f3);\n                color: white;\n                border: none;\n                border-radius: 8px;\n                font-size: 18px;\n                font-weight: bold;\n                cursor: pointer;\n                width: 100%;\n                transition: transform 0.2s, box-shadow 0.2s;\n            \">\n                Start Exploring\n            </button>\n        `;\n\n        this.overlay.appendChild(this.panel);\n        document.body.appendChild(this.overlay);\n\n        // Add button hover effect\n        const startBtn = document.getElementById('start-btn');\n        startBtn.addEventListener('mouseenter', () => {\n            startBtn.style.transform = 'translateY(-2px)';\n            startBtn.style.boxShadow = '0 5px 20px rgba(79, 195, 247, 0.4)';\n        });\n        startBtn.addEventListener('mouseleave', () => {\n            startBtn.style.transform = 'translateY(0)';\n            startBtn.style.boxShadow = 'none';\n        });\n        startBtn.addEventListener('click', () => this.hide());\n    }\n\n    hide() {\n        this.overlay.style.display = 'none';\n        this.isVisible = false;\n    }\n\n    show() {\n        this.overlay.style.display = 'flex';\n        this.isVisible = true;\n    }\n\n    destroy() {\n        if (this.overlay && this.overlay.parentNode) {\n            this.overlay.parentNode.removeChild(this.overlay);\n        }\n    }\n}\n","import * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { OceanScene } from './scene/OceanScene.js';\nimport { ParticleSystem } from './scene/ParticleSystem.js';\nimport { VectorField } from './scene/VectorField.js';\nimport { BuoyDataLoader } from './data/BuoyDataLoader.js';\nimport { FieldInterpolator } from './data/FieldInterpolator.js';\nimport { ControlPanel } from './controls/ControlPanel.js';\nimport { TimelineControl } from './controls/TimelineControl.js';\nimport { DataPanel } from './utils/DataPanel.js';\nimport { HelpPanel } from './utils/HelpPanel.js';\n\nclass OceanCurrentSimulator {\n    constructor() {\n        console.log('Initializing Ocean Current Simulator...');\n        this.init();\n        this.loadData();\n    }\n\n    async loadData() {\n        console.log('Loading buoy data...');\n        this.buoyDataLoader = new BuoyDataLoader();\n        this.fieldInterpolator = new FieldInterpolator();\n\n        try {\n            // Use relative path that works with Vite's base configuration\n            await this.buoyDataLoader.loadCSV(`${import.meta.env.BASE_URL}processed_buoy_data_clustered_k3.csv`);\n            console.log('Buoy data loaded successfully!');\n            console.log('Total records:', this.buoyDataLoader.getTotalRecords());\n\n            // Initialize to first record\n            this.currentRecordIndex = 0;\n            this.currentRecord = this.buoyDataLoader.getRecordByIndex(0);\n\n            console.log('Controls setup...');\n            this.setupControls();\n            console.log('Scene setup...');\n            this.setupScene();\n            console.log('Starting animation...');\n            this.animate();\n            console.log('Hiding loading screen...');\n            this.hideLoading();\n            console.log('Simulator ready!');\n        } catch (error) {\n            console.error('Failed to load buoy data:', error);\n            alert('Failed to load ocean current data. Please check console for details.');\n        }\n    }\n\n    init() {\n        // Scene setup\n        this.scene = new THREE.Scene();\n        this.scene.background = new THREE.Color(0x0a0e27);\n        this.scene.fog = new THREE.Fog(0x0a0e27, 50, 200);\n\n        // Camera setup\n        this.camera = new THREE.PerspectiveCamera(\n            60,\n            window.innerWidth / window.innerHeight,\n            0.1,\n            1000\n        );\n        this.camera.position.set(0, 50, 80);\n        this.camera.lookAt(0, 0, 0);\n\n        // Renderer setup\n        this.renderer = new THREE.WebGLRenderer({ antialias: true });\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n        document.getElementById('canvas-container').appendChild(this.renderer.domElement);\n\n        // Controls\n        this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n        this.controls.enableDamping = true;\n        this.controls.dampingFactor = 0.05;\n        this.controls.maxPolarAngle = Math.PI / 2.2;\n        this.controls.minDistance = 30;\n        this.controls.maxDistance = 150;\n\n        // Simulation parameters\n        this.params = {\n            showVectors: true,\n            showParticles: true,\n            particleCount: 5000,\n            playbackSpeed: 1.0,\n            isPlaying: false,\n            currentIndex: 0\n        };\n\n        this.time = 0;\n        this.clock = new THREE.Clock();\n        this.accumulatedTime = 0; // For playback timing\n\n        // Resize handler\n        window.addEventListener('resize', () => this.onWindowResize());\n    }\n\n    setupScene() {\n        // Lighting\n        const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);\n        this.scene.add(ambientLight);\n\n        const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);\n        directionalLight.position.set(50, 100, 50);\n        directionalLight.castShadow = true;\n        this.scene.add(directionalLight);\n\n        // Create ocean scene\n        this.oceanScene = new OceanScene();\n        this.scene.add(this.oceanScene.group);\n\n        // Create particle system\n        this.particleSystem = new ParticleSystem(this.params.particleCount);\n        this.scene.add(this.particleSystem.points);\n\n        // Create vector field\n        this.vectorField = new VectorField();\n        this.scene.add(this.vectorField.group);\n\n        // Initial update with real data\n        this.updateCurrents();\n    }\n\n    setupControls() {\n        this.controlPanel = new ControlPanel(this.params, () => this.updateCurrents());\n        this.timelineControl = new TimelineControl(\n            this.buoyDataLoader,\n            (index) => this.setRecordByIndex(index)\n        );\n        this.dataPanel = new DataPanel();\n        this.helpPanel = new HelpPanel();\n\n        // Make simulator accessible globally for timeline control\n        window.simulator = this;\n    }\n\n    updateCurrents() {\n        if (!this.currentRecord) return;\n\n        // Generate velocity field from real buoy data\n        const velocityField = this.fieldInterpolator.interpolateToField(\n            this.currentRecord.spatialGrid,\n            this.currentRecord.buoys\n        );\n\n        // Store current velocity field\n        this.currentVelocityField = velocityField;\n\n        // Update particle system\n        this.particleSystem.setVelocityField(velocityField);\n\n        // Update vector field\n        if (this.params.showVectors) {\n            this.vectorField.update(velocityField);\n            this.vectorField.group.visible = true;\n        } else {\n            this.vectorField.group.visible = false;\n        }\n\n        // Update particle visibility\n        this.particleSystem.points.visible = this.params.showParticles;\n\n        // Update data panel with real measurements\n        const maxVelocity = this.fieldInterpolator.getMaxVelocity(velocityField);\n        const clusterName = this.buoyDataLoader.getClusterName(this.currentRecord.cluster);\n\n        this.dataPanel.updateRealData(\n            this.currentRecord,\n            maxVelocity,\n            clusterName\n        );\n    }\n\n    setRecordByIndex(index) {\n        const record = this.buoyDataLoader.getRecordByIndex(index);\n        if (record) {\n            this.currentRecordIndex = index;\n            this.currentRecord = record;\n            this.params.currentIndex = index;\n            this.updateCurrents();\n        }\n    }\n\n    animate() {\n        requestAnimationFrame(() => this.animate());\n\n        const delta = this.clock.getDelta();\n\n        // Update playback if playing\n        if (this.params.isPlaying && this.buoyDataLoader) {\n            this.accumulatedTime += delta * this.params.playbackSpeed;\n\n            // Advance to next record every second (simulating hourly data)\n            if (this.accumulatedTime >= 1.0) {\n                this.accumulatedTime = 0;\n                const nextIndex = (this.currentRecordIndex + 1) % this.buoyDataLoader.getTotalRecords();\n                this.setRecordByIndex(nextIndex);\n            }\n        }\n\n        this.time += delta;\n\n        // Update controls\n        this.controls.update();\n\n        // Update particle positions\n        if (this.currentVelocityField) {\n            this.particleSystem.update(delta);\n        }\n\n        // Update ocean animation\n        this.oceanScene.update(this.time);\n\n        // Render\n        this.renderer.render(this.scene, this.camera);\n    }\n\n    onWindowResize() {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n    }\n\n    hideLoading() {\n        const loading = document.getElementById('loading');\n        if (loading) {\n            loading.classList.add('hidden');\n        }\n    }\n}\n\n// Start the simulator\nnew OceanCurrentSimulator();\n"],"names":["_changeEvent","_startEvent","_endEvent","_ray","Ray","_plane","Plane","_TILT_LIMIT","MathUtils","_v","Vector3","_twoPI","_STATE","_EPS","OrbitControls","Controls","object","domElement","MOUSE","TOUCH","Quaternion","Spherical","Vector2","onPointerMove","onPointerDown","onPointerUp","onContextMenu","onMouseWheel","onKeyDown","onTouchStart","onTouchMove","onMouseDown","onMouseMove","interceptControlDown","interceptControlUp","element","deltaTime","position","min","max","zoomChanged","prevRadius","newRadius","radiusDelta","mouseBefore","prevZoom","mouseAfter","delta","normalizedDelta","angle","distance","objectMatrix","deltaX","deltaY","targetDistance","dollyScale","x","y","rect","dx","dy","w","h","dist","event","needsUpdate","centerX","centerY","i","pointerId","mode","newEvent","mouseAction","OceanScene","THREE.Group","oceanGeometry","THREE.PlaneGeometry","oceanMaterial","THREE.MeshStandardMaterial","THREE.DoubleSide","THREE.Mesh","gridHelper","THREE.GridHelper","landMaterial","islandShape","THREE.Shape","islandGeometry","THREE.ExtrudeGeometry","island","mainlandShape","mainlandGeometry","mainland","riverMouthGeometry","THREE.CylinderGeometry","riverMouthMaterial","text","z","canvas","context","texture","THREE.CanvasTexture","spriteMaterial","THREE.SpriteMaterial","sprite","THREE.Sprite","time","positions","waveHeight","pulse","ParticleSystem","particleCount","colors","sizes","lifetimes","i3","geometry","THREE.BufferGeometry","THREE.BufferAttribute","material","THREE.PointsMaterial","THREE.AdditiveBlending","THREE.Points","field","maxVel","velocity","speed","normalizedSpeed","t","alpha","count","gridWidth","gridHeight","gridSpacing","gridX","gridZ","j","fx","fz","p00","p10","p01","p11","u","v","magnitude","maxMag","VectorField","points","velocityField","maxMagnitude","point","arrow","minDist","closestVelocity","dz","group","THREE.Vector3","length","normalizedMag","color","shaftGeometry","shaftMaterial","THREE.MeshBasicMaterial","shaft","headGeometry","THREE.ConeGeometry","headMaterial","head","THREE.Color","visible","module","this","r","n","d","s","a","o","e","b","U","f","l","c","p","m","g","k","_","E","P","C","S","O","I","A","T","D","L","F","M","R","BuoyDataLoader","filePath","resolve","reject","Papa","results","error","rawData","row","index","spatialGrid","key","record","buoy","mag","timestamp","date","targetTime","closestRecord","closestDiff","diff","clusterId","FieldInterpolator","targetWidth","targetHeight","buoyData","sourceGrid","gridValue","spatialArray","grid","x0","y0","x1","y1","fy","q00","q10","q01","q11","avgU","avgV","scaleFactor","buoyPositions","totalWeight","weightedU","weightedV","buoyId","data","buoyPos","weight","Controller","parent","property","className","elementType","name","callback","enabled","disabled","show","options","controller","step","decimals","listen","curValue","value","BooleanController","normalizeColorString","string","match","result","STRING","INT","ARRAY","target","rgbScale","int","OBJECT","FORMATS","getColorFormat","format","ColorController","tryParse","newValue","FunctionController","NumberController","stepExplicit","explicit","percent","onInput","increment","onWheel","testingForVerticalDrag","initClientX","initClientY","prevClientY","initValue","dragDelta","DRAG_THRESH","onMouseUp","onFocus","onBlur","map","setValueFromX","clientX","mouseDown","mouseMove","mouseUp","testingForScroll","prevClientX","beginTouchDrag","onTouchEnd","callOnFinishChange","WHEEL_DEBOUNCE_TIME","wheelFinishChangeTimeout","active","axis","mult","offset","root","OptionController","$option","StringController","stylesheet","_injectStyles","cssContent","injected","before","stylesInjected","GUI","autoPlace","container","width","title","closeFolders","injectStyles","touchStyles","$1","initialValue","folder","obj","recursive","open","closed","initialHeight","onTransitionEnd","changedGUI","controllers","folders","ControlPanel","params","updateCallback","vizFolder","infoFolder","TimelineControl","buoyDataLoader","onTimeChange","sliderContainer","stats","dateRange","controlsRow","stepBackButton","stepForwardButton","resetButton","speedContainer","speedLabel","speedButtons","btn","onClick","button","currentIndex","nextIndex","prevIndex","DataPanel","maxVelocity","dominantForcing","influences","html","riverInfluence","windInfluence","tidalInfluence","total","chartHTML","clusterName","HelpPanel","startBtn","OceanCurrentSimulator","THREE.Scene","THREE.Fog","THREE.PerspectiveCamera","THREE.WebGLRenderer","THREE.Clock","ambientLight","THREE.AmbientLight","directionalLight","THREE.DirectionalLight","loading"],"mappings":"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AA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA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","x_google_ignoreList":[0,4,7]}